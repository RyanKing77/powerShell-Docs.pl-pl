---
title: Raportowanie błędów poleceń cmdlet | Microsoft Docs
ms.custom: ''
ms.date: 09/13/2016
ms.reviewer: ''
ms.suite: ''
ms.tgt_pltfrm: ''
ms.topic: article
helpviewer_keywords:
- error records [PowerShell], terminating
- non-terminating errors [PowerShell]
- error records [PowerShell]
- terminating errors [PowerShell]
- error records [PowerShell], non-terminating
ms.assetid: 0b014035-52ea-44cb-ab38-bbe463c5465a
caps.latest.revision: 8
ms.openlocfilehash: 5dfec318438ca139518c596011ac5e56445738ea
ms.sourcegitcommit: 5a004064f33acc0145ccd414535763e95f998c89
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 08/23/2019
ms.locfileid: "69986316"
---
# <a name="cmdlet-error-reporting"></a><span data-ttu-id="75b83-102">Raportowanie błędów poleceń cmdlet</span><span class="sxs-lookup"><span data-stu-id="75b83-102">Cmdlet error reporting</span></span>

<span data-ttu-id="75b83-103">Polecenia cmdlet powinny raportować błędy w różny sposób w zależności od tego, czy błędy przerywają błędy lub błędy niepowodujące zakończenia.</span><span class="sxs-lookup"><span data-stu-id="75b83-103">Cmdlets should report errors differently depending on whether the errors are terminating errors or nonterminating errors.</span></span> <span data-ttu-id="75b83-104">Przyczyną błędów są błędy powodujące przerwanie potoku natychmiast lub błędy występujące, gdy nie ma powodu do dalszego przetwarzania.</span><span class="sxs-lookup"><span data-stu-id="75b83-104">Terminating errors are errors that cause the pipeline to be terminated immediately, or errors that occur when there's no reason to continue processing.</span></span> <span data-ttu-id="75b83-105">Błędy niepowodujące zakończenia to te błędy, które zgłaszają bieżący warunek błędu, ale polecenie cmdlet może nadal przetwarzać obiekty wejściowe.</span><span class="sxs-lookup"><span data-stu-id="75b83-105">Nonterminating errors are those errors that report a current error condition, but the cmdlet can continue to process input objects.</span></span> <span data-ttu-id="75b83-106">W przypadku błędów niezakończonych użytkownik jest zazwyczaj powiadamiany o problemie, ale polecenie cmdlet kontynuuje przetwarzanie następnego obiektu wejściowego.</span><span class="sxs-lookup"><span data-stu-id="75b83-106">With nonterminating errors, the user is typically notified of the problem, but the cmdlet continues to process the next input object.</span></span>

## <a name="terminating-and-nonterminating-errors"></a><span data-ttu-id="75b83-107">Błędy powodujące zakończenie i niekończenie</span><span class="sxs-lookup"><span data-stu-id="75b83-107">Terminating and nonterminating errors</span></span>

<span data-ttu-id="75b83-108">Poniższe wskazówki mogą służyć do określenia, czy warunek błędu to błąd powodujący przerwanie lub błąd niepowodujący zakończenia.</span><span class="sxs-lookup"><span data-stu-id="75b83-108">The following guidelines can be used to determine if an error condition is a terminating error or a nonterminating error.</span></span>

- <span data-ttu-id="75b83-109">Czy warunek błędu uniemożliwia pomyślne przetwarzanie dalszych obiektów wejściowych przez polecenie cmdlet?</span><span class="sxs-lookup"><span data-stu-id="75b83-109">Does the error condition prevent your cmdlet from successfully processing any further input objects?</span></span> <span data-ttu-id="75b83-110">Jeśli tak, jest to błąd powodujący przerwanie.</span><span class="sxs-lookup"><span data-stu-id="75b83-110">If so, this is a terminating error.</span></span>

- <span data-ttu-id="75b83-111">Czy warunek błędu związany z określonym obiektem wejściowym lub podzbiorem obiektów wejściowych?</span><span class="sxs-lookup"><span data-stu-id="75b83-111">Is the error condition related to a specific input object or a subset of input objects?</span></span> <span data-ttu-id="75b83-112">Jeśli tak, jest to błąd niepowodujący zakończenia.</span><span class="sxs-lookup"><span data-stu-id="75b83-112">If so, this is a nonterminating error.</span></span>

- <span data-ttu-id="75b83-113">Czy polecenie cmdlet akceptuje wiele obiektów wejściowych, na przykład przetwarzanie może się powieść w innym obiekcie wejściowym?</span><span class="sxs-lookup"><span data-stu-id="75b83-113">Does the cmdlet accept multiple input objects, such that processing may succeed on another input object?</span></span> <span data-ttu-id="75b83-114">Jeśli tak, jest to błąd niepowodujący zakończenia.</span><span class="sxs-lookup"><span data-stu-id="75b83-114">If so, this is a nonterminating error.</span></span>

- <span data-ttu-id="75b83-115">Polecenia cmdlet, które mogą akceptować wiele obiektów wejściowych, powinny decydować między czym są błędy kończące się i niepowodujące zakończenia, nawet jeśli konkretna sytuacja dotyczy tylko jednego obiektu wejściowego.</span><span class="sxs-lookup"><span data-stu-id="75b83-115">Cmdlets that can accept multiple input objects should decide between what are terminating and nonterminating errors, even when a particular situation applies to only a single input object.</span></span>

- <span data-ttu-id="75b83-116">Polecenia cmdlet mogą odbierać dowolną liczbę obiektów wejściowych i wysyłać dowolną liczbę obiektów sukcesu lub błędu przed wygenerowaniem wyjątku kończącego.</span><span class="sxs-lookup"><span data-stu-id="75b83-116">Cmdlets can receive any number of input objects and send any number of success or error objects before throwing a terminating exception.</span></span> <span data-ttu-id="75b83-117">Nie istnieje relacja między liczbą odebranych obiektów wejściowych i liczbą wysłanych obiektów powodzeń i błędów.</span><span class="sxs-lookup"><span data-stu-id="75b83-117">There's no relationship between the number of input objects received and the number of success and error objects sent.</span></span>

- <span data-ttu-id="75b83-118">Polecenia cmdlet, które mogą akceptować tylko 0-1 obiektów wejściowych i generować tylko 0-1 obiektów wyjściowych, powinny traktować błędy jako przerywające błędy i generować wyjątki kończące się.</span><span class="sxs-lookup"><span data-stu-id="75b83-118">Cmdlets that can accept only 0-1 input objects and generate only 0-1 output objects should treat errors as terminating errors and generate terminating exceptions.</span></span>

## <a name="reporting-nonterminating-errors"></a><span data-ttu-id="75b83-119">Raportowanie błędów niezakończonych</span><span class="sxs-lookup"><span data-stu-id="75b83-119">Reporting nonterminating errors</span></span>

<span data-ttu-id="75b83-120">Raportowanie błędu niekończącego powinno być zawsze wykonywane w implementacji polecenia cmdlet [System. Management. Automation. cmdlet. BeginProcessing](/dotnet/api/System.Management.Automation.Cmdlet.BeginProcessing) , metody [System. Management. Automation. cmdlet. ProcessRecord](/dotnet/api/System.Management.Automation.Cmdlet.ProcessRecord) lub Metoda [System. Management. Automation. cmdlet. EndProcessing](/dotnet/api/System.Management.Automation.Cmdlet.EndProcessing) .</span><span class="sxs-lookup"><span data-stu-id="75b83-120">The reporting of a nonterminating error should always be done within the cmdlet's implementation of the [System.Management.Automation.Cmdlet.BeginProcessing](/dotnet/api/System.Management.Automation.Cmdlet.BeginProcessing) method, the [System.Management.Automation.Cmdlet.ProcessRecord](/dotnet/api/System.Management.Automation.Cmdlet.ProcessRecord) method, or the [System.Management.Automation.Cmdlet.EndProcessing](/dotnet/api/System.Management.Automation.Cmdlet.EndProcessing) method.</span></span> <span data-ttu-id="75b83-121">Te typy błędów są zgłaszane przez wywołanie metody [System. Management. Automation. cmdlet. WriteError](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) , która z kolei wysyła rekord błędu do strumienia błędów.</span><span class="sxs-lookup"><span data-stu-id="75b83-121">These types of errors are reported by calling the [System.Management.Automation.Cmdlet.WriteError](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) method that in turn sends an error record to the error stream.</span></span>

## <a name="reporting-terminating-errors"></a><span data-ttu-id="75b83-122">Raportowanie błędów kończących</span><span class="sxs-lookup"><span data-stu-id="75b83-122">Reporting terminating errors</span></span>

<span data-ttu-id="75b83-123">Błędy powodujące przerwanie są raportowane przez wyrzucanie wyjątków lub przez wywołanie metody [System. Management. Automation. cmdlet. ThrowTerminatingError](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) .</span><span class="sxs-lookup"><span data-stu-id="75b83-123">Terminating errors are reported by throwing exceptions or by calling the [System.Management.Automation.Cmdlet.ThrowTerminatingError](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) method.</span></span> <span data-ttu-id="75b83-124">Należy pamiętać, że polecenia cmdlet mogą również wychwycić i ponownie zgłosić wyjątki, takie jak **OutOfMemory**, jednak nie są wymagane do ponownego zgłoszenia wyjątków, ponieważ środowisko uruchomieniowe programu PowerShell przechwytuje je również.</span><span class="sxs-lookup"><span data-stu-id="75b83-124">Be aware that cmdlets can also catch and rethrow exceptions such as **OutOfMemory**, however, they aren't required to rethrow exceptions as the PowerShell runtime will catch them as well.</span></span>

<span data-ttu-id="75b83-125">Można również zdefiniować własne wyjątki dla problemów specyficznych dla danej sytuacji lub dodać dodatkowe informacje do istniejącego wyjątku przy użyciu rekordu błędu.</span><span class="sxs-lookup"><span data-stu-id="75b83-125">You can also define your own exceptions for issues specific to your situation, or add additional information to an existing exception using its error record.</span></span>

## <a name="error-records"></a><span data-ttu-id="75b83-126">Rekordy błędów</span><span class="sxs-lookup"><span data-stu-id="75b83-126">Error records</span></span>

<span data-ttu-id="75b83-127">Program PowerShell opisuje niekończący warunek błędu z obiektami [System. Management. Automation. ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) .</span><span class="sxs-lookup"><span data-stu-id="75b83-127">PowerShell describes a nonterminating error condition with [System.Management.Automation.ErrorRecord](/dotnet/api/System.Management.Automation.ErrorRecord) objects.</span></span> <span data-ttu-id="75b83-128">Każdy obiekt zawiera informacje o kategorii błędów, opcjonalny obiekt docelowy i szczegółowe informacje o warunku błędu.</span><span class="sxs-lookup"><span data-stu-id="75b83-128">Each object provides error category information, an optional target object, and details about the error condition.</span></span>

### <a name="error-identifiers"></a><span data-ttu-id="75b83-129">Identyfikatory błędów</span><span class="sxs-lookup"><span data-stu-id="75b83-129">Error identifiers</span></span>

<span data-ttu-id="75b83-130">Identyfikator błędu jest prostym ciągiem, który identyfikuje warunek błędu w poleceniu cmdlet.</span><span class="sxs-lookup"><span data-stu-id="75b83-130">The error identifier is a simple string that identifies the error condition within the cmdlet.</span></span>
<span data-ttu-id="75b83-131">Program PowerShell łączy ten identyfikator z identyfikatorem polecenia cmdlet, aby utworzyć w pełni kwalifikowany Identyfikator błędu, który może być później używany podczas filtrowania strumieni błędów lub błędów rejestrowania, gdy odpowiada na określone błędy lub z innymi działaniami specyficznymi dla użytkownika.</span><span class="sxs-lookup"><span data-stu-id="75b83-131">PowerShell combines this identifier with a cmdlet identifier to create a fully qualified error identifier that can be used later when filtering error streams or logging errors, when responding to specific errors, or with other user-specific activities.</span></span>

<span data-ttu-id="75b83-132">Podczas określania identyfikatorów błędów należy przestrzegać następujących wytycznych:</span><span class="sxs-lookup"><span data-stu-id="75b83-132">The following guidelines should be followed when specifying error identifiers:</span></span>

- <span data-ttu-id="75b83-133">Przypisuj różne, wysoce specyficzne identyfikatory błędów do różnych ścieżek kodu.</span><span class="sxs-lookup"><span data-stu-id="75b83-133">Assign different, highly specific, error identifiers to different code paths.</span></span> <span data-ttu-id="75b83-134">Każda ścieżka kodu wywołująca [System. Management. Automation. cmdlet. WriteError](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) lub [System. Management. Automation. cmdlet. ThrowTerminatingError](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) powinna mieć własny identyfikator błędu.</span><span class="sxs-lookup"><span data-stu-id="75b83-134">Each code path that calls [System.Management.Automation.Cmdlet.WriteError](/dotnet/api/System.Management.Automation.Cmdlet.WriteError) or [System.Management.Automation.Cmdlet.ThrowTerminatingError](/dotnet/api/System.Management.Automation.Cmdlet.ThrowTerminatingError) should have its own error identifier.</span></span>

- <span data-ttu-id="75b83-135">Identyfikatory błędów powinny być unikatowe dla typów wyjątków środowiska uruchomieniowego języka wspólnego (CLR) zarówno dla błędów kończących, jak i niezakończonych.</span><span class="sxs-lookup"><span data-stu-id="75b83-135">Error identifiers should be unique to Common Language Runtime (CLR) exception types for both terminating and nonterminating errors.</span></span>

- <span data-ttu-id="75b83-136">Nie zmieniaj semantyki identyfikatora błędu między wersjami poleceń cmdlet lub dostawcy programu PowerShell.</span><span class="sxs-lookup"><span data-stu-id="75b83-136">Don't change the semantics of an error identifier between versions of your cmdlet or PowerShell provider.</span></span> <span data-ttu-id="75b83-137">Po ustanowieniu semantyki identyfikatora błędu powinna ona pozostać stała w całym cyklu życia polecenia cmdlet.</span><span class="sxs-lookup"><span data-stu-id="75b83-137">After the semantics of an error identifier is established, it should remain constant throughout the lifecycle of your cmdlet.</span></span>

- <span data-ttu-id="75b83-138">Aby można było przerywać błędy, należy użyć unikatowego identyfikatora błędu dla określonego typu wyjątku środowiska CLR.</span><span class="sxs-lookup"><span data-stu-id="75b83-138">For terminating errors, use a unique error identifier for a particular CLR exception type.</span></span> <span data-ttu-id="75b83-139">Jeśli typ wyjątku ulegnie zmianie, Użyj nowego identyfikatora błędu.</span><span class="sxs-lookup"><span data-stu-id="75b83-139">If the exception type changes, use a new error identifier.</span></span>

- <span data-ttu-id="75b83-140">W przypadku błędów niezakończonych Użyj określonego identyfikatora błędu dla określonego obiektu wejściowego.</span><span class="sxs-lookup"><span data-stu-id="75b83-140">For nonterminating errors, use a specific error identifier for a specific input object.</span></span>

- <span data-ttu-id="75b83-141">Wybierz tekst dla identyfikatora, który tersely odpowiada raportowanemu błędowi.</span><span class="sxs-lookup"><span data-stu-id="75b83-141">Choose text for the identifier that tersely corresponds to the error being reported.</span></span> <span data-ttu-id="75b83-142">Nie używaj białych znaków ani interpunkcji.</span><span class="sxs-lookup"><span data-stu-id="75b83-142">Don't use white space or punctuation.</span></span>

- <span data-ttu-id="75b83-143">Nie Generuj identyfikatorów błędów, które nie są odtwarzalne.</span><span class="sxs-lookup"><span data-stu-id="75b83-143">Don't generate error identifiers that aren't reproducible.</span></span> <span data-ttu-id="75b83-144">Na przykład nie Generuj identyfikatorów, które zawierają identyfikator procesu.</span><span class="sxs-lookup"><span data-stu-id="75b83-144">For example, don't generate identifiers that include a process identifier.</span></span> <span data-ttu-id="75b83-145">Identyfikatory błędów są przydatne tylko wtedy, gdy odpowiadają identyfikatorom, które są widoczne dla innych użytkowników, którzy występują tego samego problemu.</span><span class="sxs-lookup"><span data-stu-id="75b83-145">Error identifiers are useful only when they correspond to identifiers that are seen by other users who are experiencing the same problem.</span></span>

### <a name="error-categories"></a><span data-ttu-id="75b83-146">Kategorie błędów</span><span class="sxs-lookup"><span data-stu-id="75b83-146">Error categories</span></span>

<span data-ttu-id="75b83-147">Kategorie błędów są używane do grupowania błędów dla użytkownika.</span><span class="sxs-lookup"><span data-stu-id="75b83-147">Error categories are used to group errors for the user.</span></span> <span data-ttu-id="75b83-148">Program PowerShell definiuje te kategorie i polecenia cmdlet, a dostawcy programu PowerShell muszą wybierać między nimi podczas generowania rekordu błędu.</span><span class="sxs-lookup"><span data-stu-id="75b83-148">PowerShell defines these categories and cmdlets and PowerShell providers must choose between them when generating the error record.</span></span>

<span data-ttu-id="75b83-149">Aby uzyskać opis dostępnych kategorii błędów, zobacz Wyliczenie [System. Management. Automation. ErrorCategory](/dotnet/api/System.Management.Automation.ErrorCategory) .</span><span class="sxs-lookup"><span data-stu-id="75b83-149">For a description of the error categories that are available, see the [System.Management.Automation.ErrorCategory](/dotnet/api/System.Management.Automation.ErrorCategory) enumeration.</span></span> <span data-ttu-id="75b83-150">Ogólnie rzecz biorąc, należy unikać używania **NOERROR**, **UndefinedError**i **błąd rodzajowy** , jeśli jest to możliwe.</span><span class="sxs-lookup"><span data-stu-id="75b83-150">In general, you should avoid using **NoError**, **UndefinedError**, and **GenericError** whenever possible.</span></span>

<span data-ttu-id="75b83-151">Użytkownicy mogą wyświetlać Błędy w oparciu o kategorię, gdy `$ErrorView` mają ustawioną wartość **CategoryView**.</span><span class="sxs-lookup"><span data-stu-id="75b83-151">Users can view errors based on category when they set `$ErrorView` to **CategoryView**.</span></span>

## <a name="see-also"></a><span data-ttu-id="75b83-152">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="75b83-152">See also</span></span>

[<span data-ttu-id="75b83-153">Przegląd poleceń cmdlet</span><span class="sxs-lookup"><span data-stu-id="75b83-153">Cmdlet Overview</span></span>](./cmdlet-overview.md)

[<span data-ttu-id="75b83-154">Typy danych wyjściowych polecenia cmdlet</span><span class="sxs-lookup"><span data-stu-id="75b83-154">Types of Cmdlet Output</span></span>](./types-of-cmdlet-output.md)

[<span data-ttu-id="75b83-155">Dokumentacja programu Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="75b83-155">Windows PowerShell Reference</span></span>](../windows-powershell-reference.md)
