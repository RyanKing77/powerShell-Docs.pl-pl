---
ms.date: 08/23/2017
keywords: polecenia cmdlet programu PowerShell
title: Instalowanie i używanie programu windows powershell web access
ms.openlocfilehash: 5517347560b25f032baa77ecc2d769fb1e74ba4f
ms.sourcegitcommit: b6871f21bd666f9cd71dd336bb3f844cf472b56c
ms.translationtype: MT
ms.contentlocale: pl-PL
ms.lasthandoff: 02/03/2019
ms.locfileid: "55683828"
---
# <a name="install-and-use-windows-powershell-web-access"></a><span data-ttu-id="0172c-103">Instalowanie programu Windows PowerShell Web Access i korzystanie z niego</span><span class="sxs-lookup"><span data-stu-id="0172c-103">Install and Use Windows PowerShell Web Access</span></span>

<span data-ttu-id="0172c-104">Zaktualizowano: 5 listopada 2013 r. (edytować: 23 sierpnia 2017 r.)</span><span class="sxs-lookup"><span data-stu-id="0172c-104">Updated: November 5, 2013 (Edited: August 23, 2017)</span></span>

<span data-ttu-id="0172c-105">Dotyczy: Windows Server 2012 R2, Windows Server 2012</span><span class="sxs-lookup"><span data-stu-id="0172c-105">Applies To: Windows Server 2012 R2, Windows Server 2012</span></span>

## <a name="introduction"></a><span data-ttu-id="0172c-106">Wprowadzenie</span><span class="sxs-lookup"><span data-stu-id="0172c-106">Introduction</span></span>

<span data-ttu-id="0172c-107">Windows PowerShell Web Access, wprowadzona w systemie Windows Server 2012, działa jako brama programu Windows PowerShell, zapewniająca opartego na sieci web konsolę programu Windows PowerShell, ukierunkowanych na komputerze zdalnym.</span><span class="sxs-lookup"><span data-stu-id="0172c-107">Windows PowerShell Web Access, first introduced in Windows Server 2012, acts as a Windows PowerShell gateway, providing a web-based Windows PowerShell console that is targeted at a remote computer.</span></span> <span data-ttu-id="0172c-108">Umożliwia on informatykom uruchamianie poleceń programu Windows PowerShell i skryptów z poziomu konsoli programu Windows PowerShell w przeglądarce sieci web bez programu Windows PowerShell, oprogramowanie do zarządzania zdalnego lub przeglądarki wtyczki konieczności instalowania na urządzeniu klienckim.</span><span class="sxs-lookup"><span data-stu-id="0172c-108">It enables IT Pros to run Windows PowerShell commands and scripts from a Windows PowerShell console in a web browser, with no Windows PowerShell, remote management software, or browser plug-in installation necessary on the client device.</span></span> <span data-ttu-id="0172c-109">Wszystko, co jest wymagane do uruchamiania konsoli internetowej programu Windows PowerShell jest prawidłowo skonfigurowana brama programu Windows PowerShell Web Access i przeglądarka na urządzeniu klienckim obsługuje język JavaScript, która akceptuje pliki cookie.</span><span class="sxs-lookup"><span data-stu-id="0172c-109">All that is required to run the web-based Windows PowerShell console is a properly-configured Windows PowerShell Web Access gateway, and a client device browser that supports JavaScript and accepts cookies.</span></span>

<span data-ttu-id="0172c-110">Przykładami urządzeń klienckich są laptopy, nieprzeznaczone do użytku służbowego komputery osobiste, wypożyczone komputery, tablety, kioski internetowe, komputery z systemami operacyjnymi innymi niż Windows i przeglądarki w telefonach komórkowych.</span><span class="sxs-lookup"><span data-stu-id="0172c-110">Examples of client devices include laptops, non-work personal computers, borrowed computers, tablet computers, web kiosks, computers that are not running a Windows-based operating system, and cell phone browsers.</span></span> <span data-ttu-id="0172c-111">Informatycy mogą wykonywać kluczowe zadania zarządzania na zdalnych serwerach z systemami Windows, korzystając z urządzeń, które mają dostęp do połączenia internetowego i przeglądarki internetowej.</span><span class="sxs-lookup"><span data-stu-id="0172c-111">IT Pros can perform critical management tasks on remote Windows-based servers from devices that have access to an Internet connection and a web browser.</span></span>

<span data-ttu-id="0172c-112">Bramy pomyślnej instalacji i konfiguracji użytkownikom dostęp do konsoli środowiska Windows PowerShell przy użyciu przeglądarki sieci web.</span><span class="sxs-lookup"><span data-stu-id="0172c-112">After successful gateway setup and configuration, users can access a Windows PowerShell console by using a web browser.</span></span> <span data-ttu-id="0172c-113">Przy otwieraniu przez użytkowników zabezpieczonej witryny sieci Web programu Windows PowerShell Web Access, można uruchomić konsoli internetowej programu Windows PowerShell, po pomyślnym uwierzytelnieniu.</span><span class="sxs-lookup"><span data-stu-id="0172c-113">When users open the secured Windows PowerShell Web Access website, they can run a web-based Windows PowerShell console after successful authentication.</span></span>

<span data-ttu-id="0172c-114">Instalacja programu Windows PowerShell Web Access i konfiguracja jest procesem trzech kroków:</span><span class="sxs-lookup"><span data-stu-id="0172c-114">Windows PowerShell Web Access setup and configuration is a three-step process:</span></span>

1. [<span data-ttu-id="0172c-115">Instalowanie programu Windows PowerShell Web Access</span><span class="sxs-lookup"><span data-stu-id="0172c-115">Install Windows PowerShell Web Access</span></span>](#install-windows-powershell-web-access-using-powershell-cmdlets)
1. [<span data-ttu-id="0172c-116">Konfigurowanie bramy</span><span class="sxs-lookup"><span data-stu-id="0172c-116">Configure the Gateway</span></span>](#configure-the-gateway)
1. [<span data-ttu-id="0172c-117">Konfigurowanie restrykcyjnej reguły autoryzacji</span><span class="sxs-lookup"><span data-stu-id="0172c-117">Configure a restrictive authorization rule</span></span>](#configure-a-restrictive-authorization-rule)

<span data-ttu-id="0172c-118">Aby zainstalować i skonfigurować program Windows PowerShell Web Access, firma Microsoft zaleca, w tym przewodniku całego, który zawiera instrukcje dotyczące sposobu instalowania, zabezpieczania i odinstalowywania programu Windows PowerShell Web Access.</span><span class="sxs-lookup"><span data-stu-id="0172c-118">Before you install and configure Windows PowerShell Web Access, we recommend that you read this entire guide, which includes instructions about how to install, secure, and uninstall Windows PowerShell Web Access.</span></span> <span data-ttu-id="0172c-119">[Za pomocą konsoli programu PowerShell Windows opartej na sieci Web](/previous-versions/windows/it-pro/windows-server-2012-R2-and-2012/hh831417(v=ws.11)) tematu w tym artykule opisano, jak użytkownicy logują się do konsoli sieci web, a także jej ograniczenia i różnice między konsolą sieci web programu Windows PowerShell i  **PowerShell.exe** konsoli.</span><span class="sxs-lookup"><span data-stu-id="0172c-119">The [Use the Web-based Windows PowerShell Console](/previous-versions/windows/it-pro/windows-server-2012-R2-and-2012/hh831417(v=ws.11)) topic describes how users sign in to the web-based console, and covers limitations and differences between the web-based Windows PowerShell console and the **powershell.exe** console.</span></span> <span data-ttu-id="0172c-120">Użytkownicy końcowi konsoli internetowej powinni przeczytać [korzystanie konsoli internetowej Windows PowerShell](use-the-web-based-windows-powershell-console.md), ale muszą czytać dalszej części tego przewodnika.</span><span class="sxs-lookup"><span data-stu-id="0172c-120">End users of the web-based console should read [Use the Web based Windows PowerShell Console](use-the-web-based-windows-powershell-console.md), but do not need to read the rest of this guide.</span></span>

<span data-ttu-id="0172c-121">W tym temacie nie zawiera szczegółowych wskazówek operacji serwera sieci Web usług IIS; w tym temacie opisano tylko kroki wymagane do skonfigurowania bramy programu Windows PowerShell Web Access.</span><span class="sxs-lookup"><span data-stu-id="0172c-121">This topic does not provide in-depth IIS Web Server operations guidance; only those steps required to configure the Windows PowerShell Web Access gateway are described in this topic.</span></span> <span data-ttu-id="0172c-122">Aby uzyskać więcej informacji na temat konfigurowania i zabezpieczania witryn internetowych w usługach IIS, zobacz zasoby dokumentacji usług IIS w sekcji Zobacz też.</span><span class="sxs-lookup"><span data-stu-id="0172c-122">For more information about configuring and securing websites in IIS, see the IIS documentation resources in the See Also section.</span></span>

<span data-ttu-id="0172c-123">Na poniższym diagramie przedstawiono, jak działa program Windows PowerShell Web Access.</span><span class="sxs-lookup"><span data-stu-id="0172c-123">The following diagram shows how Windows PowerShell Web Access works.</span></span>

![Diagram funkcji Windows PowerShell Web Access](images/Windows-PowerShell-Web-Access-diagram.jpg)

## <a name="requirements-for-running-windows-powershell-web-access"></a><span data-ttu-id="0172c-125">Wymagania dotyczące działania programu Windows PowerShell Web Access</span><span class="sxs-lookup"><span data-stu-id="0172c-125">Requirements for running Windows PowerShell Web Access</span></span>

<span data-ttu-id="0172c-126">Windows PowerShell Web Access wymaga serwera sieci Web (IIS), .NET Framework 4.5 i programu Windows PowerShell 3.0 lub Windows PowerShell 4.0 jest uruchomiony na serwerze, na którym ma działać brama działał.</span><span class="sxs-lookup"><span data-stu-id="0172c-126">Windows PowerShell Web Access requires Web Server (IIS), .NET Framework 4.5, and Windows PowerShell 3.0 or Windows PowerShell 4.0 to be running on the server on which you want to run the gateway.</span></span> <span data-ttu-id="0172c-127">Windows PowerShell Web Access można zainstalować na serwerze, na którym jest uruchomiony system Windows Server 2012 R2 lub Windows Server 2012, przy użyciu Dodaj role i funkcje kreatora w Menedżerze serwera lub polecenia cmdlet wdrażania programu Windows PowerShell dla programu Menedżer serwera.</span><span class="sxs-lookup"><span data-stu-id="0172c-127">You can install Windows PowerShell Web Access on a server that is running Windows Server 2012 R2 or Windows Server 2012 by using either the Add Roles and Features Wizard in Server Manager, or Windows PowerShell deployment cmdlets for Server Manager.</span></span> <span data-ttu-id="0172c-128">Po zainstalowaniu programu Windows PowerShell Web Access za pomocą Menedżera serwera lub jego polecenia cmdlet wdrażania wymagane role i funkcje są automatycznie dodawane jako część procesu instalacji.</span><span class="sxs-lookup"><span data-stu-id="0172c-128">When you install Windows PowerShell Web Access by using Server Manager or its deployment cmdlets, required roles and features are automatically added as part of the installation process.</span></span>

<span data-ttu-id="0172c-129">Windows PowerShell Web Access umożliwia użytkownikom zdalnym dostęp do komputerów w organizacji za pomocą programu Windows PowerShell w przeglądarce sieci web.</span><span class="sxs-lookup"><span data-stu-id="0172c-129">Windows PowerShell Web Access allows remote users to access computers in your organization by using Windows PowerShell in a web browser.</span></span> <span data-ttu-id="0172c-130">Mimo że program Windows PowerShell Web Access jest narzędziem do zarządzania wygodnym i zaawansowanym, dostępu opartego na sieci web stanowi zagrożenia bezpieczeństwa i powinny być konfigurowane w bezpieczny sposób.</span><span class="sxs-lookup"><span data-stu-id="0172c-130">Although Windows PowerShell Web Access is a convenient and powerful management tool, the web-based access poses security risks, and should be configured as securely as possible.</span></span> <span data-ttu-id="0172c-131">Zalecamy Administratorzy, którzy konfigurują bramę programu Windows PowerShell Web Access za pomocą warstw zabezpieczeń dostępne reguły autoryzacji opartej na polecenia cmdlet dołączone do programu Windows PowerShell Web Access i zabezpieczeń warstwy, które są dostępne w serwerze sieci Web ( Usługi IIS) i aplikacji innych firm.</span><span class="sxs-lookup"><span data-stu-id="0172c-131">We recommend that administrators who configure the Windows PowerShell Web Access gateway use available security layers, both the cmdlet-based authorization rules included with Windows PowerShell Web Access, and security layers that are available in Web Server (IIS) and third-party applications.</span></span> <span data-ttu-id="0172c-132">W tej dokumentacji opisano zarówno przykłady niezabezpieczone, które są zalecane tylko dla środowisk testowych, jak również przykłady, które są zalecane w przypadku wdrożeń zabezpieczonych.</span><span class="sxs-lookup"><span data-stu-id="0172c-132">This documentation includes both unsecure examples that are only recommended for test environments, as well as examples that are recommended for secure deployments.</span></span>

## <a name="browser-and-client-device-support"></a><span data-ttu-id="0172c-133">Obsługa przeglądarek i urządzeń klienckich</span><span class="sxs-lookup"><span data-stu-id="0172c-133">Browser and client device support</span></span>

<span data-ttu-id="0172c-134">Windows PowerShell Web Access obsługuje następujące przeglądarki internetowe.</span><span class="sxs-lookup"><span data-stu-id="0172c-134">Windows PowerShell Web Access supports the following Internet browsers.</span></span> <span data-ttu-id="0172c-135">Choć przeglądarki dla urządzeń przenośnych oficjalnie nie są obsługiwane, wiele można uruchomić konsoli internetowej programu Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="0172c-135">Although mobile browsers are not officially supported, many may be able to run the web-based Windows PowerShell console.</span></span>
<span data-ttu-id="0172c-136">Konsola prawdopodobnie działa w innych przeglądarkach, które akceptują pliki cookie i obsługują skrypty języka JavaScript oraz witryny HTTPS, ale nie zostały one oficjalnie przetestowane.</span><span class="sxs-lookup"><span data-stu-id="0172c-136">Other browsers that accept cookies, run JavaScript, and run HTTPS websites are expected to work, but are not officially tested.</span></span>

### <a name="supported-desktop-computer-browsers"></a><span data-ttu-id="0172c-137">Obsługiwane przeglądarki na komputery stacjonarne</span><span class="sxs-lookup"><span data-stu-id="0172c-137">Supported desktop computer browsers</span></span>

- <span data-ttu-id="0172c-138">Windows Internet Explorer dla programu Microsoft Windows 8.0, 9.0, 10.0 i 11.0</span><span class="sxs-lookup"><span data-stu-id="0172c-138">Windows Internet Explorer for Microsoft Windows 8.0, 9.0, 10.0, and 11.0</span></span>
- <span data-ttu-id="0172c-139">Mozilla Firefox 10.0.2</span><span class="sxs-lookup"><span data-stu-id="0172c-139">Mozilla Firefox 10.0.2</span></span>
- <span data-ttu-id="0172c-140">Google Chrome 17.0.963.56m dla Windows</span><span class="sxs-lookup"><span data-stu-id="0172c-140">Google Chrome 17.0.963.56m for Windows</span></span>
- <span data-ttu-id="0172c-141">Apple Safari 5.1.2 dla Windows</span><span class="sxs-lookup"><span data-stu-id="0172c-141">Apple Safari 5.1.2 for Windows</span></span>
- <span data-ttu-id="0172c-142">Apple Safari 5.1.2 dla komputerów Mac OS</span><span class="sxs-lookup"><span data-stu-id="0172c-142">Apple Safari 5.1.2 for Mac OS</span></span>

### <a name="minimally-tested-mobile-devices-or-browsers"></a><span data-ttu-id="0172c-143">Minimalnie przetestowane urządzenia przenośne lub przeglądarki</span><span class="sxs-lookup"><span data-stu-id="0172c-143">Minimally-tested mobile devices or browsers</span></span>

- <span data-ttu-id="0172c-144">Windows Phone 7 i 7.5</span><span class="sxs-lookup"><span data-stu-id="0172c-144">Windows Phone 7 and 7.5</span></span>
- <span data-ttu-id="0172c-145">Google Android WebKit 3.1 dla systemu Android 2.2.1 (jądro 2.6)</span><span class="sxs-lookup"><span data-stu-id="0172c-145">Google Android WebKit 3.1 Browser Android 2.2.1 (Kernel 2.6)</span></span>
- <span data-ttu-id="0172c-146">iPhone, przeglądarka Apple Safari dla systemu operacyjnego 5.0.1</span><span class="sxs-lookup"><span data-stu-id="0172c-146">Apple Safari for iPhone operating system 5.0.1</span></span>
- <span data-ttu-id="0172c-147">iPad 2, przeglądarka Apple Safari dla systemu operacyjnego 5.0.1</span><span class="sxs-lookup"><span data-stu-id="0172c-147">Apple Safari for iPad 2 operating system 5.0.1</span></span>

### <a name="browser-requirements"></a><span data-ttu-id="0172c-148">Wymagania dotyczące przeglądarek</span><span class="sxs-lookup"><span data-stu-id="0172c-148">Browser requirements</span></span>

<span data-ttu-id="0172c-149">Aby korzystać z konsoli internetowej programu Windows PowerShell Web Access, przeglądarki muszą spełniać następujące czynności.</span><span class="sxs-lookup"><span data-stu-id="0172c-149">To use the Windows PowerShell Web Access web-based console, browsers must do the following.</span></span>

- <span data-ttu-id="0172c-150">Zezwalaj na pliki cookie z witryny sieci Web bramy dla programu Windows PowerShell Web Access.</span><span class="sxs-lookup"><span data-stu-id="0172c-150">Allow cookies from the Windows PowerShell Web Access gateway website.</span></span>
- <span data-ttu-id="0172c-151">Otwieranie i odczyt stron korzystających z protokołu HTTPS.</span><span class="sxs-lookup"><span data-stu-id="0172c-151">Be able to open and read HTTPS pages.</span></span>
- <span data-ttu-id="0172c-152">Otwieranie i obsługa witryn, w których jest używany język JavaScript.</span><span class="sxs-lookup"><span data-stu-id="0172c-152">Open and run websites that use JavaScript.</span></span>

## <a name="recommended-quick-deployment"></a><span data-ttu-id="0172c-153">Zalecane szybkiego wdrażania</span><span class="sxs-lookup"><span data-stu-id="0172c-153">Recommended quick deployment</span></span>

<span data-ttu-id="0172c-154">Bramę programu Windows PowerShell Web Access można zainstalować na serwerze, na którym jest uruchomiony system Windows Server 2012 R2 lub Windows Server 2012, przy użyciu albo polecenia cmdlet programu Windows PowerShell lub przy użyciu Dodaj role i funkcje kreatora, który jest otwierany z w Menedżerze serwera.</span><span class="sxs-lookup"><span data-stu-id="0172c-154">You can install the Windows PowerShell Web Access gateway on a server that is running Windows Server 2012 R2 or Windows Server 2012 by using either Windows PowerShell cmdlets, or by using the Add Roles and Features Wizard that is opened from within Server Manager.</span></span> <span data-ttu-id="0172c-155">Dla przeprowadzić szybką instalację i konfigurację użyj polecenia cmdlet programu Windows PowerShell, zgodnie z opisem w tej sekcji.</span><span class="sxs-lookup"><span data-stu-id="0172c-155">For quick installation and configuration, use Windows PowerShell cmdlets, as described in this section.</span></span>

1. [<span data-ttu-id="0172c-156">Instalowanie programu Windows PowerShell Web Access</span><span class="sxs-lookup"><span data-stu-id="0172c-156">Install Windows PowerShell Web Access</span></span>](#install-windows-powershell-web-access-using-powershell-cmdlets)
1. [<span data-ttu-id="0172c-157">Konfigurowanie bramy</span><span class="sxs-lookup"><span data-stu-id="0172c-157">Configure the Gateway</span></span>](#configure-the-gateway)
1. [<span data-ttu-id="0172c-158">Konfigurowanie restrykcyjnej reguły autoryzacji</span><span class="sxs-lookup"><span data-stu-id="0172c-158">Configure a restrictive authorization rule</span></span>](#configure-a-restrictive-authorization-rule)

### <a name="install-windows-powershell-web-access-using-powershell-cmdlets"></a><span data-ttu-id="0172c-159">Zainstaluj system Windows PowerShell Web Access za pomocą poleceń cmdlet programu PowerShell</span><span class="sxs-lookup"><span data-stu-id="0172c-159">Install Windows PowerShell Web Access using PowerShell cmdlets</span></span>

#### <a name="to-install-windows-powershell-web-access-by-using-windows-powershell-cmdlets"></a><span data-ttu-id="0172c-160">Aby zainstalować program Windows PowerShell Web Access za pomocą poleceń cmdlet programu Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="0172c-160">To install Windows PowerShell Web Access by using Windows PowerShell cmdlets</span></span>

1. <span data-ttu-id="0172c-161">Wykonaj jedną z następujących czynności, aby otworzyć sesję środowiska Windows PowerShell z podwyższonym poziomem uprawnień użytkownika.</span><span class="sxs-lookup"><span data-stu-id="0172c-161">Do one of the following to open a Windows PowerShell session with elevated user rights.</span></span>

   - <span data-ttu-id="0172c-162">Na pulpicie systemu Windows kliknij prawym przyciskiem myszy **środowiska Windows PowerShell** na pasku zadań, a następnie kliknij przycisk **Uruchom jako Administrator**.</span><span class="sxs-lookup"><span data-stu-id="0172c-162">On the Windows desktop, right-click **Windows PowerShell** on the taskbar, and then click **Run as Administrator**.</span></span>
   - <span data-ttu-id="0172c-163">Na Windows **Start** ekranu, kliknij prawym przyciskiem myszy **programu Windows PowerShell**, a następnie kliknij przycisk **Uruchom jako Administrator**.</span><span class="sxs-lookup"><span data-stu-id="0172c-163">On the Windows **Start** screen, right-click **Windows PowerShell**, and then click **Run as Administrator**.</span></span>

   > [!NOTE]
   > <span data-ttu-id="0172c-164">W programie Windows PowerShell 3.0 i 4.0 istnieje nie trzeba importować modułu poleceń cmdlet Menedżera serwera do sesji środowiska Windows PowerShell, przed uruchomieniem poleceń cmdlet, które są częścią tego modułu.</span><span class="sxs-lookup"><span data-stu-id="0172c-164">In Windows PowerShell 3.0 and 4.0, there is no need to import the Server Manager cmdlet module into the Windows PowerShell session before running cmdlets that are part of the module.</span></span> <span data-ttu-id="0172c-165">Moduł jest automatycznie importowany podczas pierwszego uruchomienia polecenia cmdlet wchodzącego w skład modułu.</span><span class="sxs-lookup"><span data-stu-id="0172c-165">A module is automatically imported the first time you run a cmdlet that is part of the module.</span></span>
   > <span data-ttu-id="0172c-166">Ponadto poleceń cmdlet programu Windows PowerShell nie jest rozróżniana wielkość liter.</span><span class="sxs-lookup"><span data-stu-id="0172c-166">Also, Windows PowerShell cmdlets are not case-sensitive.</span></span>

1. <span data-ttu-id="0172c-167">Wpisz następujące polecenie, a następnie naciśnij klawisz **Enter**, gdzie *nazwa_komputera* reprezentuje komputer zdalny, na którym chcesz zainstalować program Windows PowerShell Web Access, jeśli ma to zastosowanie.</span><span class="sxs-lookup"><span data-stu-id="0172c-167">Type the following, and then press **Enter**, where *computer_name* represents a remote computer on which you want to install Windows PowerShell Web Access, if applicable.</span></span> <span data-ttu-id="0172c-168">Parametr `-Restart` spowoduje automatyczne ponowne uruchomienie serwerów docelowych, jeśli jest to wymagane.</span><span class="sxs-lookup"><span data-stu-id="0172c-168">The `-Restart` parameter automatically restarts destination servers if required.</span></span>

   `Install-WindowsFeature -Name WindowsPowerShellWebAccess -ComputerName <computer_name> -IncludeManagementTools -Restart`

   > [!NOTE]
   > <span data-ttu-id="0172c-169">Instalowanie programu Windows PowerShell Web Access za pomocą poleceń cmdlet programu Windows PowerShell nie powoduje dodania narzędzi do zarządzania serwerem sieci Web (IIS) domyślnie.</span><span class="sxs-lookup"><span data-stu-id="0172c-169">Installing Windows PowerShell Web Access by using Windows PowerShell cmdlets does not add Web Server (IIS) management tools by default.</span></span> <span data-ttu-id="0172c-170">Jeśli chcesz zainstalować narzędzia do zarządzania na tym samym serwerze co brama programu Windows PowerShell Web Access, należy dodać `-IncludeManagementTools` do polecenia instalacji (co zostało opisane w tym kroku).</span><span class="sxs-lookup"><span data-stu-id="0172c-170">If you want to install the management tools on the same server as the Windows PowerShell Web Access gateway, add the `-IncludeManagementTools` parameter to the installation command (as provided in this step).</span></span> <span data-ttu-id="0172c-171">Jeśli zarządzasz witryny sieci Web programu Windows PowerShell Web Access z komputera zdalnego, zainstaluj przystawkę Menedżer usług IIS, instalując [zdalnego serwera Administracja Toolsfor Windows 8.1](https://www.microsoft.com/en-us/download/details.aspx?id=39296) lub [administracji zdalnej serwera Narzędzia dla systemu Windows 8](https://www.microsoft.com/en-us/download/details.aspx?id=28972) na komputerze, z którego chcesz do zarządzania bramą.</span><span class="sxs-lookup"><span data-stu-id="0172c-171">If you are managing the Windows PowerShell Web Access website from a remote computer, install the IIS Manager snap-in by installing [Remote Server Administration Toolsfor Windows 8.1](https://www.microsoft.com/en-us/download/details.aspx?id=39296) or [Remote Server Administration Tools for Windows 8](https://www.microsoft.com/en-us/download/details.aspx?id=28972) on the computer from which you want to manage the gateway.</span></span>

   <span data-ttu-id="0172c-172">Aby zainstalować role i funkcje na dysku VHD trybu offline, należy dodać parametr `-ComputerName` i parametr `-VHD`.</span><span class="sxs-lookup"><span data-stu-id="0172c-172">To install roles and features on an offline VHD, you must add both the `-ComputerName` parameter and the `-VHD` parameter.</span></span> <span data-ttu-id="0172c-173">Parametr `-ComputerName` zawiera nazwę serwera, na którym należy zainstalować dysk VHD, a parametr `-VHD` zawiera ścieżkę do pliku dysku VHD na określonym serwerze.</span><span class="sxs-lookup"><span data-stu-id="0172c-173">The `-ComputerName` parameter contains the name of the server on which to mount the VHD, and the `-VHD` parameter contains the path to the VHD file on the specified server.</span></span>

   `Install-WindowsFeature -Name WindowsPowerShellWebAccess -VHD <path> -ComputerName <computer_name> -IncludeManagementTools -Restart`

1. <span data-ttu-id="0172c-174">Po zakończeniu instalacji sprawdź, czy program Windows PowerShell Web Access zostało zainstalowane na serwerach docelowych, uruchamiając `Get-WindowsFeature` polecenia cmdlet na serwerze docelowym, w konsoli programu Windows PowerShell, która została otwarta z podwyższonym poziomem uprawnień użytkownika.</span><span class="sxs-lookup"><span data-stu-id="0172c-174">When installation is complete, verify that Windows PowerShell Web Access was installed on destination servers by running the `Get-WindowsFeature` cmdlet on a destination server, in a Windows PowerShell console that has been opened with elevated user rights.</span></span> <span data-ttu-id="0172c-175">Można też sprawdzić, czy program Windows PowerShell Web Access został zainstalowany w konsoli Menedżera serwera, wybierając serwer docelowy na **wszystkie serwery** strony, a następnie wyświetlić **ról i funkcji** Kafelek dla wybranego serwera.</span><span class="sxs-lookup"><span data-stu-id="0172c-175">You can also verify that Windows PowerShell Web Access was installed in the Server Manager console, by selecting a destination server on the **All Servers** page, and then viewing the **Roles and Features** tile for the selected server.</span></span> <span data-ttu-id="0172c-176">Można również wyświetlić plik readme dla programu Windows PowerShell Web Access.</span><span class="sxs-lookup"><span data-stu-id="0172c-176">You can also view the readme file for Windows PowerShell Web Access.</span></span>

1. <span data-ttu-id="0172c-177">Po zainstalowaniu programu Windows PowerShell Web Access, wyświetlany jest monit o przejrzenie pliku readme, który zawiera instrukcje dotyczące konfigurowania podstawowych, jest wymagane dla bramy.</span><span class="sxs-lookup"><span data-stu-id="0172c-177">After Windows PowerShell Web Access is installed, you are prompted to review the readme file, which contains basic, required setup instructions for the gateway.</span></span> <span data-ttu-id="0172c-178">Te instrukcje instalacji znajdują się również w poniższej sekcji [skonfigurować bramę](#configure-the-gateway).</span><span class="sxs-lookup"><span data-stu-id="0172c-178">These setup instructions are also in the following section, [Configure the Gateway](#configure-the-gateway).</span></span> <span data-ttu-id="0172c-179">Ścieżka do pliku readme jest `C:\Windows\Web\PowerShellWebAccess\wwwroot\README.txt`.</span><span class="sxs-lookup"><span data-stu-id="0172c-179">The path to the readme file is `C:\Windows\Web\PowerShellWebAccess\wwwroot\README.txt`.</span></span>

### <a name="configure-the-gateway"></a><span data-ttu-id="0172c-180">Konfigurowanie bramy</span><span class="sxs-lookup"><span data-stu-id="0172c-180">Configure the Gateway</span></span>

<span data-ttu-id="0172c-181">**Install-PswaWebApplication** polecenie cmdlet jest szybkim sposobem uzyskania skonfigurowany program Windows PowerShell Web Access.</span><span class="sxs-lookup"><span data-stu-id="0172c-181">The **Install-PswaWebApplication** cmdlet is a quick way to get Windows PowerShell Web Access configured.</span></span> <span data-ttu-id="0172c-182">Chociaż w celu zainstalowania certyfikatu SSL z podpisem własnym na potrzeby testowania można dodać parametr `UseTestCertificate` do polecenia cmdlet `Install-PswaWebApplication`, nie jest to bezpieczny sposób. W zabezpieczonym środowisku produkcyjnym zawsze używaj prawidłowego certyfikatu SSL, który został podpisany przez urząd certyfikacji (CA).</span><span class="sxs-lookup"><span data-stu-id="0172c-182">Although you can add the `UseTestCertificate` parameter to the `Install-PswaWebApplication` cmdlet to install a self-signed SSL certificate for test purposes, this is not secure; for a secure production environment, always use a valid SSL certificate that has been signed by a certification authority (CA).</span></span> <span data-ttu-id="0172c-183">Administratorzy mogą zastąpić certyfikat testowy wybranym przez siebie certyfikatem podpisanym przy użyciu konsoli Menedżera usług IIS.</span><span class="sxs-lookup"><span data-stu-id="0172c-183">Administrators can replace the test certificate with a signed certificate of their choice by using the IIS Manager console.</span></span>

<span data-ttu-id="0172c-184">Możesz ukończyć konfigurację aplikacji sieci web programu Windows PowerShell Web Access albo uruchamiając `Install-PswaWebApplication` polecenia cmdlet lub wykonując kroki konfiguracji graficznego interfejsu użytkownika w Menedżerze usług IIS.</span><span class="sxs-lookup"><span data-stu-id="0172c-184">You can complete Windows PowerShell Web Access web application configuration either by running the `Install-PswaWebApplication` cmdlet or by performing GUI-based configuration steps in IIS Manager.</span></span>
<span data-ttu-id="0172c-185">Domyślnie to polecenie cmdlet instaluje aplikację sieci web **pswa** (i jego pulę aplikacji, **pswa_pool**) w polu **domyślna witryna sieci Web** kontenera, jak pokazano w Menedżerze usług IIS; Jeśli żądane, może wydać polecenie cmdlet, aby zmienić kontener domyślnej witryny aplikacji sieci web.</span><span class="sxs-lookup"><span data-stu-id="0172c-185">By default, the cmdlet installs the web application, **pswa** (and an application pool for it, **pswa_pool**), in the **Default Web Site** container, as shown in IIS Manager; if desired, you can instruct the cmdlet to change the default site container of the web application.</span></span> <span data-ttu-id="0172c-186">Menedżer usług IIS oferuje opcje konfiguracji, które są dostępne dla aplikacji internetowej, takie jak zmiana numeru portu lub certyfikatu protokołu Secure Sockets Layer (SSL).</span><span class="sxs-lookup"><span data-stu-id="0172c-186">IIS Manager offers configuration options that are available for web applications, such as changing the port number or the Secure Sockets Layer (SSL) certificate.</span></span>

> <span data-ttu-id="0172c-187">**![Uwaga dotycząca zabezpieczeń](images/securitynote.jpeg) Uwaga dotycząca zabezpieczeń** zdecydowanie zalecamy, aby administratorzy skonfigurowali bramę do użycia prawidłowego certyfikatu, który został podpisany przez urząd certyfikacji.</span><span class="sxs-lookup"><span data-stu-id="0172c-187">**![Security Note](images/securitynote.jpeg) Security Note** We strongly recommend that administrators configure the gateway to use a valid certificate that has been signed by a CA.</span></span>

#### <a name="to-configure-the-windows-powershell-web-access-gateway-with-a-test-certificate-by-using-install-pswawebapplication"></a><span data-ttu-id="0172c-188">Aby skonfigurować bramę programu Windows PowerShell Web Access z certyfikatem testowym przy użyciu polecenia cmdlet Install-PswaWebApplication</span><span class="sxs-lookup"><span data-stu-id="0172c-188">To configure the Windows PowerShell Web Access gateway with a test certificate by using Install-PswaWebApplication</span></span>

1. <span data-ttu-id="0172c-189">Wykonaj jedną z następujących czynności, aby otworzyć sesję środowiska Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="0172c-189">Do one of the following to open a Windows PowerShell session.</span></span>

   - <span data-ttu-id="0172c-190">Na pulpicie Windows kliknij prawym przyciskiem myszy **programu Windows PowerShell** na pasku zadań.</span><span class="sxs-lookup"><span data-stu-id="0172c-190">On the Windows desktop, right-click **Windows PowerShell** on the taskbar.</span></span>
   - <span data-ttu-id="0172c-191">Na Windows **Start** ekranu, kliknij przycisk **programu Windows PowerShell**.</span><span class="sxs-lookup"><span data-stu-id="0172c-191">On the Windows **Start** screen, click **Windows PowerShell**.</span></span>

2. <span data-ttu-id="0172c-192">Wpisz następujące polecenie, a następnie naciśnij klawisz **Enter**.</span><span class="sxs-lookup"><span data-stu-id="0172c-192">Type the following, and then press **Enter**.</span></span>

   `Install-PswaWebApplication -UseTestCertificate`

   > <span data-ttu-id="0172c-193">**![Uwaga dotycząca zabezpieczeń](images/securitynote.jpeg) Uwaga dotycząca zabezpieczeń** `UseTestCertificate` parametru należy używać tylko w prywatnym środowisku testowym.</span><span class="sxs-lookup"><span data-stu-id="0172c-193">**![Security Note](images/securitynote.jpeg) Security Note** The `UseTestCertificate` parameter should only be used in a private test environment.</span></span> <span data-ttu-id="0172c-194">W zabezpieczonym środowisku produkcyjnym zaleca się użycie prawidłowego certyfikatu, który został podpisany przez urząd certyfikacji.</span><span class="sxs-lookup"><span data-stu-id="0172c-194">For a secure production environment, we recommend using a valid certificate that has been signed by a CA.</span></span>

   <span data-ttu-id="0172c-195">Uruchamiając polecenie cmdlet instaluje aplikację sieci web programu Windows PowerShell Web Access w kontenerze domyślna witryna sieci Web usług IIS.</span><span class="sxs-lookup"><span data-stu-id="0172c-195">Running the cmdlet installs the Windows PowerShell Web Access web application within the IIS Default Web Site container.</span></span> <span data-ttu-id="0172c-196">Polecenie cmdlet tworzy infrastrukturę niezbędną do uruchomienia programu Windows PowerShell Web Access w domyślnej witrynie sieci Web, `https://<server_name>/pswa`.</span><span class="sxs-lookup"><span data-stu-id="0172c-196">The cmdlet creates the infrastructure required to run Windows PowerShell Web Access on the default website, `https://<server_name>/pswa`.</span></span> <span data-ttu-id="0172c-197">Aby zainstalować aplikację internetową w innej witrynie internetowej, podaj nazwę witryny internetowej przez dodanie parametru `WebSiteName`.</span><span class="sxs-lookup"><span data-stu-id="0172c-197">To install the web application in a different website, provide the website name by adding the `WebSiteName` parameter.</span></span> <span data-ttu-id="0172c-198">Aby zmienić nazwę aplikacji internetowej (nazwa domyślna to `pswa`), dodaj parametr `WebApplicationName`.</span><span class="sxs-lookup"><span data-stu-id="0172c-198">To change the name of the web application (the default is `pswa`), add the `WebApplicationName` parameter.</span></span>

   <span data-ttu-id="0172c-199">Następujące ustawienia są konfigurowane przez uruchomienie tego polecenia cmdlet.</span><span class="sxs-lookup"><span data-stu-id="0172c-199">The following settings are configured by running the cmdlet.</span></span> <span data-ttu-id="0172c-200">W razie potrzeby można je zmienić ręcznie w konsoli Menedżera usług IIS.</span><span class="sxs-lookup"><span data-stu-id="0172c-200">You can change these manually in the IIS Manager console, if desired.</span></span>

   - <span data-ttu-id="0172c-201">Path: /pswa</span><span class="sxs-lookup"><span data-stu-id="0172c-201">Path: /pswa</span></span>
   - <span data-ttu-id="0172c-202">ApplicationPool: pswa_pool</span><span class="sxs-lookup"><span data-stu-id="0172c-202">ApplicationPool: pswa_pool</span></span>
   - <span data-ttu-id="0172c-203">EnabledProtocols: http</span><span class="sxs-lookup"><span data-stu-id="0172c-203">EnabledProtocols: http</span></span>
   - <span data-ttu-id="0172c-204">PhysicalPath: %windir%/Web/PowerShellWebAccess/wwwroot</span><span class="sxs-lookup"><span data-stu-id="0172c-204">PhysicalPath: %windir%/Web/PowerShellWebAccess/wwwroot</span></span>

   <span data-ttu-id="0172c-205">**Przykład**: `Install-PswaWebApplication -webApplicationName myWebApp -useTestCertificate`</span><span class="sxs-lookup"><span data-stu-id="0172c-205">**Example**: `Install-PswaWebApplication -webApplicationName myWebApp -useTestCertificate`</span></span>

   <span data-ttu-id="0172c-206">W tym przykładzie wynikowa witryna internetowa dla programu Windows PowerShell Web Access jest `https://<server_name>/myWebApp`.</span><span class="sxs-lookup"><span data-stu-id="0172c-206">In this example, the resulting website for Windows PowerShell Web Access is `https://<server_name>/myWebApp`.</span></span>

   > [!NOTE]
   > <span data-ttu-id="0172c-207">Użytkownicy będą mogli się zalogować dopiero po udzieleniu im dostępu do tej witryny internetowej przez dodanie reguł autoryzacji.</span><span class="sxs-lookup"><span data-stu-id="0172c-207">You cannot sign in until users have been granted access to the website by adding authorization rules.</span></span> <span data-ttu-id="0172c-208">Aby uzyskać więcej informacji, zobacz [Konfigurowanie restrykcyjnej reguły autoryzacji](#configure-a-restrictive-authorization-rule) i [reguły autoryzacji i zabezpieczeń funkcji programu Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span><span class="sxs-lookup"><span data-stu-id="0172c-208">For more information, see [configure a restrictive authorization rule](#configure-a-restrictive-authorization-rule) and [Authorization Rules and Security Features of Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span></span>

#### <a name="to-configure-the-windows-powershell-web-access-gateway-with-a-genuine-certificate-by-using-install-pswawebapplication-and-iis-manager"></a><span data-ttu-id="0172c-209">Aby skonfigurować bramę programu Windows PowerShell Web Access z oryginalnym certyfikatem przy użyciu polecenia cmdlet Install-PswaWebApplication i Menedżera usług IIS</span><span class="sxs-lookup"><span data-stu-id="0172c-209">To configure the Windows PowerShell Web Access gateway with a genuine certificate by using Install-PswaWebApplication and IIS Manager</span></span>

1. <span data-ttu-id="0172c-210">Wykonaj jedną z następujących czynności, aby otworzyć sesję środowiska Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="0172c-210">Do one of the following to open a Windows PowerShell session.</span></span>

   - <span data-ttu-id="0172c-211">Na pulpicie Windows kliknij prawym przyciskiem myszy **programu Windows PowerShell** na pasku zadań.</span><span class="sxs-lookup"><span data-stu-id="0172c-211">On the Windows desktop, right-click **Windows PowerShell** on the taskbar.</span></span>
   - <span data-ttu-id="0172c-212">Na Windows **Start** ekranu, kliknij przycisk **programu Windows PowerShell**.</span><span class="sxs-lookup"><span data-stu-id="0172c-212">On the Windows **Start** screen, click **Windows PowerShell**.</span></span>

2. <span data-ttu-id="0172c-213">Wpisz następujące polecenie, a następnie naciśnij klawisz **Enter**.</span><span class="sxs-lookup"><span data-stu-id="0172c-213">Type the following, and then press **Enter**.</span></span>

   `Install-PswaWebApplication`

   <span data-ttu-id="0172c-214">Następujące ustawienia bramy są konfigurowane przez uruchomienie tego polecenia cmdlet.</span><span class="sxs-lookup"><span data-stu-id="0172c-214">The following gateway settings are configured by running the cmdlet.</span></span> <span data-ttu-id="0172c-215">W razie potrzeby można je zmienić ręcznie w konsoli Menedżera usług IIS.</span><span class="sxs-lookup"><span data-stu-id="0172c-215">You can change these manually in the IIS Manager console, if desired.</span></span> <span data-ttu-id="0172c-216">Można również określić wartości dla parametrów `WebsiteName` i `WebApplicationName` polecenia cmdlet `Install-PswaWebApplication`.</span><span class="sxs-lookup"><span data-stu-id="0172c-216">You can also specify values for the `WebsiteName` and `WebApplicationName` parameters of the `Install-PswaWebApplication` cmdlet.</span></span>

   - <span data-ttu-id="0172c-217">Path: /pswa</span><span class="sxs-lookup"><span data-stu-id="0172c-217">Path: /pswa</span></span>
   - <span data-ttu-id="0172c-218">ApplicationPool: pswa_pool</span><span class="sxs-lookup"><span data-stu-id="0172c-218">ApplicationPool: pswa_pool</span></span>
   - <span data-ttu-id="0172c-219">EnabledProtocols: http</span><span class="sxs-lookup"><span data-stu-id="0172c-219">EnabledProtocols: http</span></span>
   - <span data-ttu-id="0172c-220">PhysicalPath: %windir%/Web/PowerShellWebAccess/wwwroot</span><span class="sxs-lookup"><span data-stu-id="0172c-220">PhysicalPath: %windir%/Web/PowerShellWebAccess/wwwroot</span></span>

3. <span data-ttu-id="0172c-221">Otwórz konsolę Menedżera usług IIS, wykonując jedną z następujących czynności.</span><span class="sxs-lookup"><span data-stu-id="0172c-221">Open the IIS Manager console by doing one of the following.</span></span>

   - <span data-ttu-id="0172c-222">Na pulpicie systemu Windows, uruchom Menedżera serwera, klikając **Menedżera serwera** na pasku zadań systemu Windows.</span><span class="sxs-lookup"><span data-stu-id="0172c-222">On the Windows desktop, start Server Manager by clicking **Server Manager** in the Windows taskbar.</span></span> <span data-ttu-id="0172c-223">Na **narzędzia** menu w Menedżerze serwera kliknij **Internet Information Services (IIS) Manager**.</span><span class="sxs-lookup"><span data-stu-id="0172c-223">On the **Tools** menu in Server Manager, click **Internet Information Services (IIS) Manager**.</span></span>
   - <span data-ttu-id="0172c-224">Na Windows **Start** ekranu, kliknij przycisk **Menedżera serwera**.</span><span class="sxs-lookup"><span data-stu-id="0172c-224">On the Windows **Start** screen, click **Server Manager**.</span></span>

4. <span data-ttu-id="0172c-225">W okienku drzewa Menedżera usług IIS, rozwiń węzeł serwera, na którym zainstalowany jest program Windows PowerShell Web Access, aż do **witryn** folder jest widoczny.</span><span class="sxs-lookup"><span data-stu-id="0172c-225">In the IIS Manager tree pane, expand the node for the server on which Windows PowerShell Web Access is installed until the **Sites** folder is visible.</span></span> <span data-ttu-id="0172c-226">Rozwiń **witryn** folderu.</span><span class="sxs-lookup"><span data-stu-id="0172c-226">Expand the **Sites** folder.</span></span>

5. <span data-ttu-id="0172c-227">Wybierz witrynę sieci Web, w którym zainstalowano aplikację sieci web programu Windows PowerShell Web Access.</span><span class="sxs-lookup"><span data-stu-id="0172c-227">Select the website in which you have installed the Windows PowerShell Web Access web application.</span></span>
   <span data-ttu-id="0172c-228">W **akcje** okienku kliknij **powiązania**.</span><span class="sxs-lookup"><span data-stu-id="0172c-228">In the **Actions** pane, click **Bindings**.</span></span>

6. <span data-ttu-id="0172c-229">W **powiązania witryny** okno dialogowe, kliknij przycisk **Dodaj**.</span><span class="sxs-lookup"><span data-stu-id="0172c-229">In the **Site Binding** dialog box, click **Add**.</span></span>

7. <span data-ttu-id="0172c-230">W **Dodawanie powiązania witryny** dialogowym **typu** pól, zaznacz **https**.</span><span class="sxs-lookup"><span data-stu-id="0172c-230">In the **Add Site Binding** dialog box, in the **Type** field, select **https**.</span></span>

8. <span data-ttu-id="0172c-231">W **certyfikat SSL** wybierz Twój podpisany certyfikat z menu rozwijanego.</span><span class="sxs-lookup"><span data-stu-id="0172c-231">In the **SSL certificate** field, select your signed certificate from the drop-down menu.</span></span>
   <span data-ttu-id="0172c-232">Kliknij przycisk **OK**.</span><span class="sxs-lookup"><span data-stu-id="0172c-232">Click **OK**.</span></span> <span data-ttu-id="0172c-233">Zobacz [skonfigurować certyfikat SSL w Menedżerze usług IIS](#to-configure-an-ssl-certificate-in-iis-Manager) w tym temacie, aby uzyskać więcej informacji o sposobie uzyskiwania certyfikatu.</span><span class="sxs-lookup"><span data-stu-id="0172c-233">See [To configure an SSL certificate in IIS Manager](#to-configure-an-ssl-certificate-in-iis-Manager) in this topic for more information about how to obtain a certificate.</span></span>

   <span data-ttu-id="0172c-234">Aplikacja sieci web programu Windows PowerShell Web Access jest skonfigurowany do korzystania z podpisanego certyfikatu SSL.</span><span class="sxs-lookup"><span data-stu-id="0172c-234">The Windows PowerShell Web Access web application is now configured to use your signed SSL certificate.</span></span>

   <span data-ttu-id="0172c-235">Dostęp do programu Windows PowerShell Web Access, otwierając `https://<server_name>/pswa` w oknie przeglądarki.</span><span class="sxs-lookup"><span data-stu-id="0172c-235">You can access Windows PowerShell Web Access by opening `https://<server_name>/pswa` in a browser window.</span></span>

   > [!NOTE]
   > <span data-ttu-id="0172c-236">Użytkownicy będą mogli się zalogować dopiero po udzieleniu im dostępu do tej witryny internetowej przez dodanie reguł autoryzacji.</span><span class="sxs-lookup"><span data-stu-id="0172c-236">You cannot sign in until users have been granted access to the website by adding authorization rules.</span></span> <span data-ttu-id="0172c-237">Aby uzyskać więcej informacji, zobacz [Konfigurowanie restrykcyjnej reguły autoryzacji](#configure-a-restrictive-authorization-rule), w tym temacie i [reguły autoryzacji i zabezpieczeń funkcji programu Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span><span class="sxs-lookup"><span data-stu-id="0172c-237">For more information, see [Configure a restrictive authorization rule](#configure-a-restrictive-authorization-rule), in this topic, and [Authorization Rules and Security Features of Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span></span>

### <a name="configure-a-restrictive-authorization-rule"></a><span data-ttu-id="0172c-238">Konfigurowanie restrykcyjnej reguły autoryzacji</span><span class="sxs-lookup"><span data-stu-id="0172c-238">Configure a restrictive authorization rule</span></span>

<span data-ttu-id="0172c-239">Po zainstalowaniu programu Windows PowerShell Web Access, a brama jest skonfigurowana, użytkownicy mogą otwierać strony logowania w przeglądarce, ale nie można zalogować do momentu administratora programu Windows PowerShell Web Access jawnego przydzielenia im dostępu.</span><span class="sxs-lookup"><span data-stu-id="0172c-239">After Windows PowerShell Web Access is installed and the gateway is configured, users can open the sign-in page in a browser, but they cannot sign in until the Windows PowerShell Web Access administrator grants users access explicitly.</span></span> <span data-ttu-id="0172c-240">Kontrola dostępu w programie Windows PowerShell Web Access odbywa się przy użyciu zestawu poleceń cmdlet Windows PowerShell opisanych w poniższej tabeli.</span><span class="sxs-lookup"><span data-stu-id="0172c-240">Windows PowerShell Web Access access control is managed by using the set of Windows PowerShell cmdlets described in the following table.</span></span> <span data-ttu-id="0172c-241">Nie istnieje porównywalny graficzny interfejs użytkownika umożliwiający dodawanie reguł autoryzacji lub zarządzanie nimi.</span><span class="sxs-lookup"><span data-stu-id="0172c-241">There is no comparable GUI for adding or managing authorization rules.</span></span> <span data-ttu-id="0172c-242">Aby uzyskać szczegółowe informacje o poleceniach cmdlet programu Windows PowerShell Web Access, zobacz tematy dokumentacja poleceń cmdlet, [polecenia cmdlet programu Windows PowerShell Web Access](/powershell/module/powershellwebaccess/?view=winserver2012r2-ps).</span><span class="sxs-lookup"><span data-stu-id="0172c-242">For more detailed information about Windows PowerShell Web Access cmdlets, see the cmdlet reference topics, [Windows PowerShell Web Access Cmdlets](/powershell/module/powershellwebaccess/?view=winserver2012r2-ps).</span></span>

<span data-ttu-id="0172c-243">Aby uzyskać więcej szczegółów na temat reguł autoryzacji programu Windows PowerShell Web Access i zabezpieczeń, zobacz [reguły autoryzacji i zabezpieczeń funkcji programu Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span><span class="sxs-lookup"><span data-stu-id="0172c-243">For more detail about Windows PowerShell Web Access authorization rules and security, see [Authorization Rules and Security Features of Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span></span>

#### <a name="to-add-a-restrictive-authorization-rule"></a><span data-ttu-id="0172c-244">Aby dodać restrykcyjną regułę autoryzacji</span><span class="sxs-lookup"><span data-stu-id="0172c-244">To add a restrictive authorization rule</span></span>

1. <span data-ttu-id="0172c-245">Wykonaj jedną z następujących czynności, aby otworzyć sesję środowiska Windows PowerShell z podwyższonym poziomem uprawnień użytkownika.</span><span class="sxs-lookup"><span data-stu-id="0172c-245">Do one of the following to open a Windows PowerShell session with elevated user rights.</span></span>

   - <span data-ttu-id="0172c-246">Na pulpicie systemu Windows kliknij prawym przyciskiem myszy **środowiska Windows PowerShell** na pasku zadań, a następnie kliknij przycisk **Uruchom jako Administrator**.</span><span class="sxs-lookup"><span data-stu-id="0172c-246">On the Windows desktop, right-click **Windows PowerShell** on the taskbar, and then click **Run as Administrator**.</span></span>
   - <span data-ttu-id="0172c-247">Na Windows **Start** ekranu, kliknij prawym przyciskiem myszy **programu Windows PowerShell**, a następnie kliknij przycisk **Uruchom jako Administrator**.</span><span class="sxs-lookup"><span data-stu-id="0172c-247">On the Windows **Start** screen, right-click **Windows PowerShell**, and then click **Run as Administrator**.</span></span>

2. <span data-ttu-id="0172c-248">Krok opcjonalny, umożliwiający ograniczenie dostępu użytkowników za pomocą konfiguracji sesji: Sprawdź, czy konfiguracje sesji, których chcesz użyć w regułach, już istnieją.</span><span class="sxs-lookup"><span data-stu-id="0172c-248">Optional step for restricting user access by using session configurations: Verify that session configurations that you want to use in your rules already exist.</span></span> <span data-ttu-id="0172c-249">Jeśli one nie zostały jeszcze utworzone, skorzystaj z instrukcji tworzenia konfiguracji sesji w [about_Session_Configuration_Files](/powershell/module/microsoft.powershell.core/about/about_session_configurations).</span><span class="sxs-lookup"><span data-stu-id="0172c-249">If they have not yet been created, use instructions for creating session configurations in [about_Session_Configuration_Files](/powershell/module/microsoft.powershell.core/about/about_session_configurations).</span></span>

3. <span data-ttu-id="0172c-250">Wpisz następujące polecenie, a następnie naciśnij klawisz **Enter**.</span><span class="sxs-lookup"><span data-stu-id="0172c-250">Type the following, and then press **Enter**.</span></span>

   `Add-PswaAuthorizationRule -UserName <domain\user | computer\user> -ComputerName <computer_name> -ConfigurationName <session_configuration_name>`

   <span data-ttu-id="0172c-251">Ta reguła autoryzacji zezwala określonemu użytkownikowi na dostęp do jednego komputera w sieci, do których zwykle mają oni dostęp z uprawnieniami do konfiguracji określonej sesji, które są ograniczone do użytkownika Typowa skryptów i polecenie cmdlet musi.</span><span class="sxs-lookup"><span data-stu-id="0172c-251">This authorization rule allows a specific user access to one computer on the network to which they typically have access, with access to a specific session configuration that is scoped to the user's typical scripting and cmdlet needs.</span></span>

   <span data-ttu-id="0172c-252">W poniższym przykładzie użytkownik o nazwie `JSmith` w domenie `Contoso` otrzymuje dostęp umożliwiający zarządzanie komputerem o nazwie `Contoso_214` przy użyciu konfiguracji sesji o nazwie `NewAdminsOnly`.</span><span class="sxs-lookup"><span data-stu-id="0172c-252">In the following example, a user named `JSmith` in the `Contoso` domain is granted access to manage the computer `Contoso_214`, and use a session configuration named `NewAdminsOnly`.</span></span>

   `Add-PswaAuthorizationRule -UserName Contoso\JSmith -ComputerName Contoso_214 -ConfigurationName NewAdminsOnly`

4. <span data-ttu-id="0172c-253">Sprawdź, czy reguła została utworzona za pomocą `Get-PswaAuthorizationRule` polecenia cmdlet, lub `Test-PswaAuthorizationRule -UserName <domain\user> -ComputerName <computer-name>`</span><span class="sxs-lookup"><span data-stu-id="0172c-253">Verify that the rule has been created by running either the `Get-PswaAuthorizationRule` cmdlet, or `Test-PswaAuthorizationRule -UserName <domain\user> -ComputerName <computer-name>`</span></span>

   <span data-ttu-id="0172c-254">Na przykład `Test-PswaAuthorizationRule -UserName 'Contoso\JSmith' -ComputerName Contoso_214`.</span><span class="sxs-lookup"><span data-stu-id="0172c-254">For example, `Test-PswaAuthorizationRule -UserName 'Contoso\JSmith' -ComputerName Contoso_214`.</span></span>

<span data-ttu-id="0172c-255">Po skonfigurowaniu reguły autoryzacji, jesteś gotowy autoryzowani użytkownicy będą logować się do konsoli sieci web i rozpocząć korzystanie z programu Windows PowerShell Web Access.</span><span class="sxs-lookup"><span data-stu-id="0172c-255">After you have configured an authorization rule, you are ready for authorized users to sign in to the web-based console and begin using Windows PowerShell Web Access.</span></span>

## <a name="custom-deployment"></a><span data-ttu-id="0172c-256">Wdrażanie niestandardowe</span><span class="sxs-lookup"><span data-stu-id="0172c-256">Custom deployment</span></span>

<span data-ttu-id="0172c-257">Bramę programu Windows PowerShell Web Access można zainstalować na serwerze, na którym jest uruchomiony system Windows Server 2012 R2 lub Windows Server 2012, przy użyciu Dodaj role i funkcje kreatora w Menedżerze serwera.</span><span class="sxs-lookup"><span data-stu-id="0172c-257">You can install the Windows PowerShell Web Access gateway on a server that is running Windows Server 2012 R2 or Windows Server 2012 by using the Add Roles and Features Wizard in Server Manager.</span></span>
<span data-ttu-id="0172c-258">Po zainstalowaniu programu Windows PowerShell Web Access, należy dostosować konfigurację bramy w Menedżerze usług IIS.</span><span class="sxs-lookup"><span data-stu-id="0172c-258">After Windows PowerShell Web Access is installed, you can customize the configuration of the gateway in IIS Manager.</span></span>

### <a name="install-windows-powershell-web-access-using-the-add-roles-and-features-wizard"></a><span data-ttu-id="0172c-259">Instalowanie przy użyciu funkcji Kreatora dodawania ról i program Windows PowerShell Web Access</span><span class="sxs-lookup"><span data-stu-id="0172c-259">Install Windows PowerShell Web Access using the Add Roles and Features Wizard</span></span>

1. <span data-ttu-id="0172c-260">Jeśli Menedżer serwera jest już otwarty, przejdź do następnego kroku.</span><span class="sxs-lookup"><span data-stu-id="0172c-260">If Server Manager is already open, go on to the next step.</span></span> <span data-ttu-id="0172c-261">Jeśli Menedżer serwera nie jest już otwarty, otwórz go, wykonując jedną z następujących czynności.</span><span class="sxs-lookup"><span data-stu-id="0172c-261">If Server Manager is not already open, open it by doing one of the following.</span></span>

   - <span data-ttu-id="0172c-262">Na pulpicie systemu Windows, uruchom Menedżera serwera, klikając **Menedżera serwera** na pasku zadań systemu Windows.</span><span class="sxs-lookup"><span data-stu-id="0172c-262">On the Windows desktop, start Server Manager by clicking **Server Manager** in the Windows taskbar.</span></span>
   - <span data-ttu-id="0172c-263">Na Windows **Start** ekranu, kliknij przycisk **Menedżera serwera**.</span><span class="sxs-lookup"><span data-stu-id="0172c-263">On the Windows **Start** screen, click **Server Manager**.</span></span>

2. <span data-ttu-id="0172c-264">Na **Zarządzaj** menu, kliknij przycisk **Dodaj role i funkcje**.</span><span class="sxs-lookup"><span data-stu-id="0172c-264">On the **Manage** menu, click **Add Roles and Features**.</span></span>

3. <span data-ttu-id="0172c-265">Na **Wybieranie typu instalacji** wybierz **Instalacja oparta na rolach lub oparta na funkcjach**.</span><span class="sxs-lookup"><span data-stu-id="0172c-265">On the **Select installation type** page, select **Role-based or feature-based installation**.</span></span>
   <span data-ttu-id="0172c-266">Kliknij przycisk **Dalej**.</span><span class="sxs-lookup"><span data-stu-id="0172c-266">Click **Next**.</span></span>

4. <span data-ttu-id="0172c-267">Na **serwer docelowy wybierz** strony, wybierz serwer z puli serwerów lub wybierz dysk VHD trybu offline.</span><span class="sxs-lookup"><span data-stu-id="0172c-267">On the **Select destination server** page, select a server from the server pool, or select an offline VHD.</span></span> <span data-ttu-id="0172c-268">Aby wybrać dysk VHD w trybie offline jako serwer docelowy, najpierw wybierz serwer, na którym należy zainstalować dysk VHD, a następnie wybierz plik dysku VHD.</span><span class="sxs-lookup"><span data-stu-id="0172c-268">To select an offline VHD as your destination server, first select the server on which to mount the VHD, and then select the VHD file.</span></span> <span data-ttu-id="0172c-269">Aby uzyskać informacje na temat dodawania serwerów do puli serwerów, należy zajrzeć do pomocy Menedżera serwera.</span><span class="sxs-lookup"><span data-stu-id="0172c-269">For information about how to add servers to your server pool, see the Server Manager Help.</span></span> <span data-ttu-id="0172c-270">Po wybraniu serwera docelowego kliknij **Dalej**.</span><span class="sxs-lookup"><span data-stu-id="0172c-270">After you have selected the destination server, click **Next**.</span></span>

5. <span data-ttu-id="0172c-271">Na **wybierz funkcje** strony kreatora, należy rozwinąć **programu Windows PowerShell**, a następnie wybierz pozycję **programu Windows PowerShell Web Access**.</span><span class="sxs-lookup"><span data-stu-id="0172c-271">On the **Select features** page of the wizard, expand **Windows PowerShell**, and then select **Windows PowerShell Web Access**.</span></span>

6. <span data-ttu-id="0172c-272">Zostanie wyświetlony monit o dodanie wymaganych funkcji, takich jak środowisko .NET Framework 4.5 oraz usługi ról serwera sieci Web (IIS).</span><span class="sxs-lookup"><span data-stu-id="0172c-272">Note that you are prompted to add required features, such as .NET Framework 4.5, and role services of Web Server (IIS).</span></span> <span data-ttu-id="0172c-273">Dodaj wymagane funkcje i kontynuuj.</span><span class="sxs-lookup"><span data-stu-id="0172c-273">Add required features and continue.</span></span>

   > [!NOTE]
   > <span data-ttu-id="0172c-274">Instalowanie programu Windows PowerShell Web Access przy użyciu funkcji Kreatora dodawania ról i instaluje serwer sieci Web (IIS), łącznie z przystawki Menedżer usług IIS.</span><span class="sxs-lookup"><span data-stu-id="0172c-274">Installing Windows PowerShell Web Access by using the Add Roles and Features Wizard also installs Web Server (IIS), including the IIS Manager snap-in.</span></span> <span data-ttu-id="0172c-275">Ta przystawka i inne narzędzia do zarządzania usług IIS są instalowane domyślnie, jeśli używasz Kreatora dodawania ról i funkcji.</span><span class="sxs-lookup"><span data-stu-id="0172c-275">The snap-in and other IIS management tools are installed by default if you use Add Roles and Features Wizard.</span></span> <span data-ttu-id="0172c-276">Po zainstalowaniu programu Windows PowerShell Web Access za pomocą poleceń cmdlet programu Windows PowerShell, zgodnie z opisem w poniższej procedurze, narzędzia do zarządzania nie są dodawane domyślnie.</span><span class="sxs-lookup"><span data-stu-id="0172c-276">If you install Windows PowerShell Web Access by using Windows PowerShell cmdlets as described in the following procedure, management tools are not added by default.</span></span>

7. <span data-ttu-id="0172c-277">Na **Potwierdź wybrane opcje instalacji** strony, jeśli pliki funkcji programu Windows PowerShell Web Access nie są przechowywane na serwerze docelowym, który został wybrany w kroku 4, kliknij **określenie alternatywnej ścieżki źródłowej**i podaj ścieżkę do plików funkcji.</span><span class="sxs-lookup"><span data-stu-id="0172c-277">On the **Confirm installation selections** page, if the feature files for Windows PowerShell Web Access are not stored on the destination server that you selected in step 4, click **Specify an alternate source path**, and provide the path to the feature files.</span></span> <span data-ttu-id="0172c-278">W przeciwnym razie kliknij przycisk **zainstalować**.</span><span class="sxs-lookup"><span data-stu-id="0172c-278">Otherwise, click **Install**.</span></span>

8. <span data-ttu-id="0172c-279">Po kliknięciu **zainstalować**, **postęp instalacji** strony wyświetla postęp instalacji, wyniki i komunikaty, takie jak ostrzeżenia, błędy lub czynności konfiguracyjnych po instalacji, które są wymagane dla programu Windows PowerShell Web Access.</span><span class="sxs-lookup"><span data-stu-id="0172c-279">After you click **Install**, the **Installation progress** page displays installation progress, results, and messages such as warnings, failures, or post-installation configuration steps that are required for Windows PowerShell Web Access.</span></span> <span data-ttu-id="0172c-280">Po zainstalowaniu programu Windows PowerShell Web Access, wyświetlany jest monit o przejrzenie pliku readme, który zawiera instrukcje dotyczące konfigurowania podstawowych, jest wymagane dla bramy.</span><span class="sxs-lookup"><span data-stu-id="0172c-280">After Windows PowerShell Web Access is installed, you are prompted to review the readme file, which contains basic, required setup instructions for the gateway.</span></span> <span data-ttu-id="0172c-281">Te instrukcje znajdują się również w tym temacie.</span><span class="sxs-lookup"><span data-stu-id="0172c-281">These instructions are also included in this topic.</span></span> <span data-ttu-id="0172c-282">Ścieżka do pliku readme jest `C:\Windows\Web\PowerShellWebAccess\wwwroot\README.txt`.</span><span class="sxs-lookup"><span data-stu-id="0172c-282">The path to the readme file is `C:\Windows\Web\PowerShellWebAccess\wwwroot\README.txt`.</span></span>

### <a name="configure-the-gateway"></a><span data-ttu-id="0172c-283">Konfigurowanie bramy</span><span class="sxs-lookup"><span data-stu-id="0172c-283">Configure the gateway</span></span>

<span data-ttu-id="0172c-284">Instrukcje w tej sekcji dotyczą instalowania aplikacji sieci web programu Windows PowerShell Web Access w podkatalogu, a nie w katalogu głównym witryny sieci Web.</span><span class="sxs-lookup"><span data-stu-id="0172c-284">Instructions in this section are for installing the Windows PowerShell Web Access web application in a subdirectory and not in the root directory of your website.</span></span> <span data-ttu-id="0172c-285">Ta procedura to oparta na graficznym interfejsie użytkownika wersja działań wykonywanych przez polecenie cmdlet `Install-PswaWebApplication`.</span><span class="sxs-lookup"><span data-stu-id="0172c-285">This procedure is the GUI-based equivalent of the actions performed by the `Install-PswaWebApplication` cmdlet.</span></span> <span data-ttu-id="0172c-286">Ta sekcja zawiera również instrukcje dotyczące sposobu konfigurowania bramy systemu Windows PowerShell Web Access jako głównej witryny internetowej za pomocą Menedżera usług IIS.</span><span class="sxs-lookup"><span data-stu-id="0172c-286">This section also includes instructions for how to use IIS Manager to configure the Windows PowerShell Web Access gateway as a root website.</span></span>

#### <a name="to-use-iis-manager-to-configure-the-gateway-in-an-existing-website"></a><span data-ttu-id="0172c-287">Aby użyć Menedżera usług IIS do skonfigurowania bramy w istniejącą witrynie internetowej</span><span class="sxs-lookup"><span data-stu-id="0172c-287">To use IIS Manager to configure the gateway in an existing website</span></span>

1. <span data-ttu-id="0172c-288">Otwórz konsolę Menedżera usług IIS, wykonując jedną z następujących czynności.</span><span class="sxs-lookup"><span data-stu-id="0172c-288">Open the IIS Manager console by doing one of the following.</span></span>

   - <span data-ttu-id="0172c-289">Na pulpicie systemu Windows, uruchom Menedżera serwera, klikając **Menedżera serwera** na pasku zadań systemu Windows.</span><span class="sxs-lookup"><span data-stu-id="0172c-289">On the Windows desktop, start Server Manager by clicking **Server Manager** in the Windows taskbar.</span></span> <span data-ttu-id="0172c-290">Na **narzędzia** menu w Menedżerze serwera kliknij **Internet Information Services (IIS) Manager**.</span><span class="sxs-lookup"><span data-stu-id="0172c-290">On the **Tools** menu in Server Manager, click **Internet Information Services (IIS) Manager**.</span></span>
   - <span data-ttu-id="0172c-291">Na Windows **Start** ekranu, wpisz dowolną część nazwy **Internet Information Services (IIS) Manager**.</span><span class="sxs-lookup"><span data-stu-id="0172c-291">On the Windows **Start** screen, type any part of the name **Internet Information Services (IIS) Manager**.</span></span> <span data-ttu-id="0172c-292">Kliknij skrót, gdy jest on wyświetlany w **aplikacje** wyników.</span><span class="sxs-lookup"><span data-stu-id="0172c-292">Click the shortcut when it is displayed in the **Apps** results.</span></span>

2. <span data-ttu-id="0172c-293">Utwórz nową pulę aplikacji dla programu Windows PowerShell Web Access.</span><span class="sxs-lookup"><span data-stu-id="0172c-293">Create a new application pool for Windows PowerShell Web Access.</span></span> <span data-ttu-id="0172c-294">Rozwiń węzeł serwera bramy w okienku drzewa Menedżera usług IIS wybierz **pul aplikacji**i kliknij przycisk **Dodawanie puli aplikacji** w **akcje** okienka.</span><span class="sxs-lookup"><span data-stu-id="0172c-294">Expand the node of the gateway server in the IIS Manager tree pane, select **Application Pools**, and click **Add Application Pool** in the **Actions** pane.</span></span>

3. <span data-ttu-id="0172c-295">Dodawanie nowej puli aplikacji o nazwie **pswa_pool**, lub podaj inną nazwę.</span><span class="sxs-lookup"><span data-stu-id="0172c-295">Add a new application pool with the name **pswa_pool**, or provide another name.</span></span> <span data-ttu-id="0172c-296">Kliknij przycisk **OK**.</span><span class="sxs-lookup"><span data-stu-id="0172c-296">Click **OK**.</span></span>

4. <span data-ttu-id="0172c-297">W okienku drzewa Menedżera usług IIS, rozwiń węzeł serwera, na którym zainstalowany jest program Windows PowerShell Web Access, aż do **witryn** folder jest widoczny.</span><span class="sxs-lookup"><span data-stu-id="0172c-297">In the IIS Manager tree pane, expand the node for the server on which Windows PowerShell Web Access is installed until the **Sites** folder is visible.</span></span> <span data-ttu-id="0172c-298">Wybierz **witryn** folderu.</span><span class="sxs-lookup"><span data-stu-id="0172c-298">Select the **Sites** folder.</span></span>

5. <span data-ttu-id="0172c-299">Kliknij prawym przyciskiem myszy witrynę sieci Web (na przykład **domyślna witryna sieci Web**), do której chcesz dodać witrynę sieci Web programu Windows PowerShell Web Access, a następnie kliknij przycisk **Add Application**.</span><span class="sxs-lookup"><span data-stu-id="0172c-299">Right-click the website (for example, **Default Web Site**) to which you would like to add the Windows PowerShell Web Access website, and then click **Add Application**.</span></span>

6. <span data-ttu-id="0172c-300">W **Alias** pola, wpisz pswa lub dowolny inny alias.</span><span class="sxs-lookup"><span data-stu-id="0172c-300">In the **Alias** field, type pswa, or provide another alias.</span></span> <span data-ttu-id="0172c-301">Ten alias będzie nazwą katalogu wirtualnego.</span><span class="sxs-lookup"><span data-stu-id="0172c-301">The alias becomes the virtual directory name.</span></span> <span data-ttu-id="0172c-302">Na przykład **pswa** następujący adres URL reprezentuje alias określony w tym kroku: `https://<server-name>/pswa`.</span><span class="sxs-lookup"><span data-stu-id="0172c-302">For example, **pswa** in the following URL represents the alias specified in this step: `https://<server-name>/pswa`.</span></span>

7. <span data-ttu-id="0172c-303">W **puli aplikacji** wybierz pulę aplikacji, który został utworzony w kroku 3.</span><span class="sxs-lookup"><span data-stu-id="0172c-303">In the **Application pool** field, select the application pool that you created in step 3.</span></span>

8. <span data-ttu-id="0172c-304">W **ścieżkę fizyczną** pola, przejdź do lokalizacji aplikacji.</span><span class="sxs-lookup"><span data-stu-id="0172c-304">In the **Physical path** field, browse for the location of the application.</span></span> <span data-ttu-id="0172c-305">Można użyć domyślnej lokalizacji `$env:windir/Web/PowerShellWebAccess/wwwroot`.</span><span class="sxs-lookup"><span data-stu-id="0172c-305">You can use the default location, `$env:windir/Web/PowerShellWebAccess/wwwroot`.</span></span> <span data-ttu-id="0172c-306">Kliknij przycisk **OK**.</span><span class="sxs-lookup"><span data-stu-id="0172c-306">Click **OK**.</span></span>

9. <span data-ttu-id="0172c-307">Wykonaj kroki opisane w procedurze [skonfigurować certyfikat SSL w Menedżerze usług IIS](#to-configure-an-ssl-certificate-in-iis-Manager) w tym temacie.</span><span class="sxs-lookup"><span data-stu-id="0172c-307">Follow the steps in the procedure [To configure an SSL certificate in IIS manager](#to-configure-an-ssl-certificate-in-iis-Manager) in this topic.</span></span>

10. <span data-ttu-id="0172c-308">![](images/SecurityNote.jpeg) Opcjonalny krok dotyczący zabezpieczeń:</span><span class="sxs-lookup"><span data-stu-id="0172c-308">![](images/SecurityNote.jpeg) Optional security step:</span></span>

    <span data-ttu-id="0172c-309">Z witryną sieci Web, dla wybranego w okienku drzewa, kliknij dwukrotnie **ustawienia protokołu SSL** w okienku zawartości.</span><span class="sxs-lookup"><span data-stu-id="0172c-309">With the website selected in the tree pane, double-click **SSL Settings** in the content pane.</span></span>
    <span data-ttu-id="0172c-310">Wybierz **Wymagaj protokołu SSL**, a następnie w polu **akcje** okienku kliknij **Zastosuj**.</span><span class="sxs-lookup"><span data-stu-id="0172c-310">Select **Require SSL**, and then in the **Actions** pane, click **Apply**.</span></span> <span data-ttu-id="0172c-311">Opcjonalnie w **ustawienia protokołu SSL** okienku możesz wymagać od użytkowników łączących się z witryny sieci Web programu Windows PowerShell Web Access posiadania certyfikatów klienta.</span><span class="sxs-lookup"><span data-stu-id="0172c-311">Optionally, in the **SSL Settings** pane, you can require that users connecting to the Windows PowerShell Web Access website have client certificates.</span></span> <span data-ttu-id="0172c-312">Certyfikaty klienta pomagają zweryfikować tożsamość użytkownika urządzenia klienckiego.</span><span class="sxs-lookup"><span data-stu-id="0172c-312">Client certificates help to verify the identity of a client device user.</span></span> <span data-ttu-id="0172c-313">Aby uzyskać więcej informacji na temat jak wymóg posiadania certyfikatów klienta może zwiększyć bezpieczeństwo programu Windows PowerShell Web Access, zobacz [reguły autoryzacji i zabezpieczeń funkcji programu Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md) w tym przewodniku.</span><span class="sxs-lookup"><span data-stu-id="0172c-313">For more information about how requiring client certificates can increase the security of Windows PowerShell Web Access, see [Authorization Rules and Security Features of Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md) in this guide.</span></span>

11. <span data-ttu-id="0172c-314">Otwórz sesję przeglądarki na urządzeniu klienckim.</span><span class="sxs-lookup"><span data-stu-id="0172c-314">Open a browser session on a client device.</span></span> <span data-ttu-id="0172c-315">Aby uzyskać więcej informacji o obsługiwanych przeglądarkach i urządzeniach, zobacz [przeglądarki i urządzenia klienckiego, które obsługują](#browser-and-client-device-support) w tym temacie.</span><span class="sxs-lookup"><span data-stu-id="0172c-315">For more information about supported browsers and devices, see [Browser and client device support](#browser-and-client-device-support) in this topic.</span></span>

12. <span data-ttu-id="0172c-316">Otwórz nową witrynę sieci Web programu Windows PowerShell Web Access **https://\<*serwer bramy*\>/pswa**.</span><span class="sxs-lookup"><span data-stu-id="0172c-316">Open the new Windows PowerShell Web Access website, **https://\<*gateway-server-name*\>/pswa**.</span></span>

    <span data-ttu-id="0172c-317">Przeglądarki powinien być wyświetlany w konsoli programu Windows PowerShell Web Access logowania strony.</span><span class="sxs-lookup"><span data-stu-id="0172c-317">The browser should display the Windows PowerShell Web Access console sign-in page.</span></span>

    > [!NOTE]
    > <span data-ttu-id="0172c-318">Użytkownicy będą mogli się zalogować dopiero po udzieleniu im dostępu do tej witryny internetowej przez dodanie reguł autoryzacji.</span><span class="sxs-lookup"><span data-stu-id="0172c-318">You cannot sign in until users have been granted access to the website by adding authorization rules.</span></span> <span data-ttu-id="0172c-319">Aby uzyskać więcej informacji, zobacz [Konfigurowanie restrykcyjnej reguły autoryzacji](#configure-a-restrictive-authorization-rule), w tym temacie i [reguły autoryzacji i zabezpieczeń funkcji programu Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span><span class="sxs-lookup"><span data-stu-id="0172c-319">For more information, see [Configure a restrictive authorization rule](#configure-a-restrictive-authorization-rule), in this topic, and [Authorization Rules and Security Features of Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span></span>

13. <span data-ttu-id="0172c-320">W sesji środowiska Windows PowerShell, która została otwarta z podwyższonym poziomem uprawnień użytkownika (Uruchom jako Administrator), uruchom następujący skrypt, w którym *nazwa_puli_aplikacji* reprezentuje nazwę puli aplikacji, który został utworzony w kroku 3 Aby udzielić tej puli aplikacji uprawnień dostępu do pliku autoryzacji.</span><span class="sxs-lookup"><span data-stu-id="0172c-320">In a Windows PowerShell session that has been opened with elevated user rights (Run as Administrator), run the following script, in which *application_pool_name* represents the name of the application pool that you created in step 3, to give the application pool access rights to the authorization file.</span></span>

    ```powershell
    $applicationPoolName = "<application_pool_name>"
    $authorizationFile = "C:\windows\web\powershellwebaccess\data\AuthorizationRules.xml"
    c:\windows\system32\icacls.exe $authorizationFile /grant ('"' + "IIS AppPool\$applicationPoolName" + '":R') > $null
    ```

    <span data-ttu-id="0172c-321">Aby wyświetlić istniejące prawa dostępu do pliku autoryzacji, uruchom następujące polecenie:</span><span class="sxs-lookup"><span data-stu-id="0172c-321">To view existing access rights on the authorization file, run the following command:</span></span>

    ```powershell
    c:\windows\system32\icacls.exe $authorizationFile
    ```

#### <a name="to-use-iis-manager-to-configure-the-gateway-as-a-root-website-with-a-test-certificate"></a><span data-ttu-id="0172c-322">Aby użyć Menedżera usług IIS do skonfigurowania bramy jako głównej witryny internetowej przy użyciu certyfikatu testowego</span><span class="sxs-lookup"><span data-stu-id="0172c-322">To use IIS Manager to configure the gateway as a root website with a test certificate</span></span>

1. <span data-ttu-id="0172c-323">Otwórz konsolę Menedżera usług IIS, wykonując jedną z następujących czynności.</span><span class="sxs-lookup"><span data-stu-id="0172c-323">Open the IIS Manager console by doing one of the following.</span></span>

   - <span data-ttu-id="0172c-324">Na pulpicie systemu Windows, uruchom Menedżera serwera, klikając **Menedżera serwera** na pasku zadań systemu Windows.</span><span class="sxs-lookup"><span data-stu-id="0172c-324">On the Windows desktop, start Server Manager by clicking **Server Manager** in the Windows taskbar.</span></span> <span data-ttu-id="0172c-325">Na **narzędzia** menu w Menedżerze serwera kliknij **Internet Information Services (IIS) Manager**.</span><span class="sxs-lookup"><span data-stu-id="0172c-325">On the **Tools** menu in Server Manager, click **Internet Information Services (IIS) Manager**.</span></span>
   - <span data-ttu-id="0172c-326">Na Windows **Start** ekranu, wpisz dowolną część nazwy **Internet Information Services (IIS) Manager**.</span><span class="sxs-lookup"><span data-stu-id="0172c-326">On the Windows **Start** screen, type any part of the name **Internet Information Services (IIS) Manager**.</span></span> <span data-ttu-id="0172c-327">Kliknij skrót, gdy jest on wyświetlany w **aplikacje** wyników.</span><span class="sxs-lookup"><span data-stu-id="0172c-327">Click the shortcut when it is displayed in the **Apps** results.</span></span>

1. <span data-ttu-id="0172c-328">W okienku drzewa Menedżera usług IIS, rozwiń węzeł serwera, na którym zainstalowany jest program Windows PowerShell Web Access, aż do **witryn** folder jest widoczny.</span><span class="sxs-lookup"><span data-stu-id="0172c-328">In the IIS Manager tree pane, expand the node for the server on which Windows PowerShell Web Access is installed until the **Sites** folder is visible.</span></span> <span data-ttu-id="0172c-329">Wybierz **witryn** folderu.</span><span class="sxs-lookup"><span data-stu-id="0172c-329">Select the **Sites** folder.</span></span>

1. <span data-ttu-id="0172c-330">W **akcje** okienku kliknij **Dodawanie witryny sieci Web**.</span><span class="sxs-lookup"><span data-stu-id="0172c-330">In the **Actions** pane, click **Add Website**.</span></span>

1. <span data-ttu-id="0172c-331">Wpisz nazwę witryny sieci Web, takie jak **programu Windows PowerShell Web Access**.</span><span class="sxs-lookup"><span data-stu-id="0172c-331">Type a name for the website, such as **Windows PowerShell Web Access**.</span></span>

1. <span data-ttu-id="0172c-332">Dla nowej witryny internetowej zostanie automatycznie utworzona pula aplikacji.</span><span class="sxs-lookup"><span data-stu-id="0172c-332">An application pool is automatically created for the new website.</span></span> <span data-ttu-id="0172c-333">Aby użyć innej puli aplikacji, kliknij **wybierz** można wybrać pulę aplikacji do skojarzenia z nową witrynę sieci Web.</span><span class="sxs-lookup"><span data-stu-id="0172c-333">To use a different application pool, click **Select** to select an application pool to associate with the new website.</span></span> <span data-ttu-id="0172c-334">Wybierz alternatywną pulę aplikacji w **Wybieranie puli aplikacji** okno dialogowe, a następnie kliknij przycisk **OK**.</span><span class="sxs-lookup"><span data-stu-id="0172c-334">Select the alternate application pool in the **Select Application Pool** dialog box, and then click **OK**.</span></span>

1. <span data-ttu-id="0172c-335">W **ścieżkę fizyczną** tekstu, przejdź do % windir%/Web/PowerShellWebAccess/wwwroot.</span><span class="sxs-lookup"><span data-stu-id="0172c-335">In the **Physical path** text box, navigate to %windir%/Web/PowerShellWebAccess/wwwroot.</span></span>

1. <span data-ttu-id="0172c-336">W **typu** pole **powiązanie** wybierz opcję **https**.</span><span class="sxs-lookup"><span data-stu-id="0172c-336">In the **Type** field of the **Binding** area, select **https**.</span></span>

1. <span data-ttu-id="0172c-337">Przypisz do witryny internetowej numer portu, który nie jest jeszcze używany przez inną witrynę lub aplikację.</span><span class="sxs-lookup"><span data-stu-id="0172c-337">Assign a port number to the website that is not already in use by another site or application.</span></span>
   <span data-ttu-id="0172c-338">Aby zlokalizować otwarte porty, można uruchomić **netstat** polecenia w oknie wiersza polecenia.</span><span class="sxs-lookup"><span data-stu-id="0172c-338">To locate open ports, you can run the **netstat** command in a Command Prompt window.</span></span> <span data-ttu-id="0172c-339">Domyślny numer portu to 443.</span><span class="sxs-lookup"><span data-stu-id="0172c-339">The default port number is 443.</span></span>

   <span data-ttu-id="0172c-340">Zmień domyślny port, jeśli inna witryna internetowa korzysta już z portu 443 lub jeśli istnieją inne względy bezpieczeństwa przemawiające za zmianą numeru portu.</span><span class="sxs-lookup"><span data-stu-id="0172c-340">Change the default port if another website is already using 443, or if you have other security reasons for changing the port number.</span></span> <span data-ttu-id="0172c-341">Jeśli z wybranego portu korzysta inna witryna internetowa, która jest uruchomiona na serwerze bramy, po kliknięciu zostanie wyświetlone ostrzeżenie **OK** w **Dodawanie witryny sieci Web** okno dialogowe.</span><span class="sxs-lookup"><span data-stu-id="0172c-341">If another website that is running on your gateway server is using your selected port, a warning is displayed when you click **OK** in the **Add Website** dialog box.</span></span> <span data-ttu-id="0172c-342">Aby uruchomić program Windows PowerShell Web Access, należy użyć nieużywanego portu.</span><span class="sxs-lookup"><span data-stu-id="0172c-342">You must use an unused port to run Windows PowerShell Web Access.</span></span>

1. <span data-ttu-id="0172c-343">Opcjonalnie, w razie potrzeby w swojej organizacji, określ nazwę hosta pasującą do organizacji i użytkowników, takie jak **`www.contoso.com`**.</span><span class="sxs-lookup"><span data-stu-id="0172c-343">Optionally, if needed for your organization, specify a host name that makes sense to your organization and users, such as **`www.contoso.com`**.</span></span> <span data-ttu-id="0172c-344">Kliknij przycisk **OK**.</span><span class="sxs-lookup"><span data-stu-id="0172c-344">Click **OK**.</span></span>

1. <span data-ttu-id="0172c-345">Aby zwiększyć bezpieczeństwo środowiska produkcyjnego, zdecydowanie zaleca się użycie prawidłowego certyfikatu, który został podpisany przez urząd certyfikacji.</span><span class="sxs-lookup"><span data-stu-id="0172c-345">For a more secure production environment, we strongly recommend providing a valid certificate that has been signed by a CA.</span></span> <span data-ttu-id="0172c-346">Musisz podać certyfikat SSL, ponieważ użytkownicy mogą łączyć się tylko z programu Windows PowerShell Web Access za pośrednictwem witryny internetowej HTTPS.</span><span class="sxs-lookup"><span data-stu-id="0172c-346">You must provide an SSL certificate, because users can only connect to Windows PowerShell Web Access through an HTTPS website.</span></span> <span data-ttu-id="0172c-347">Zobacz [skonfigurować certyfikat SSL w Menedżerze usług IIS](#to-configure-an-ssl-certificate-in-iis-Manager) w tym temacie, aby uzyskać więcej informacji o sposobie uzyskiwania certyfikatu.</span><span class="sxs-lookup"><span data-stu-id="0172c-347">See [To configure an SSL certificate in IIS manager](#to-configure-an-ssl-certificate-in-iis-Manager) in this topic for more information about how to obtain a certificate.</span></span>

1. <span data-ttu-id="0172c-348">Kliknij przycisk **OK** zamknąć **Dodawanie witryny sieci Web** okno dialogowe.</span><span class="sxs-lookup"><span data-stu-id="0172c-348">Click **OK** to close the **Add Website** dialog box.</span></span>

1. <span data-ttu-id="0172c-349">W sesji środowiska Windows PowerShell, która została otwarta z podwyższonym poziomem uprawnień użytkownika (Uruchom jako Administrator), uruchom następujący skrypt, w którym _nazwa_puli_aplikacji_ reprezentuje nazwę puli aplikacji, który został utworzony w kroku 4, Aby udzielić tej puli aplikacji uprawnień dostępu do pliku autoryzacji.</span><span class="sxs-lookup"><span data-stu-id="0172c-349">In a Windows PowerShell session that has been opened with elevated user rights (Run as Administrator), run the following script, in which _application_pool_name_ represents the name of the application pool that you created in step 4, to give the application pool access rights to the authorization file.</span></span>

   ```powershell
   $applicationPoolName = "<application_pool_name>"
   $authorizationFile = "C:\windows\web\powershellwebaccess\data\AuthorizationRules.xml"
   c:\windows\system32\icacls.exe $authorizationFile /grant ('"' + "IIS AppPool\$applicationPoolName" + '":R') > $null
   ```

   <span data-ttu-id="0172c-350">Aby wyświetlić istniejące prawa dostępu do pliku autoryzacji, uruchom następujące polecenie:</span><span class="sxs-lookup"><span data-stu-id="0172c-350">To view existing access rights on the authorization file, run the following command:</span></span>

   ```powershell
   c:\windows\system32\icacls.exe $authorizationFile
   ```

1. <span data-ttu-id="0172c-351">Z wybraniu nowej witryny internetowej w okienku drzewa Menedżera usług IIS, kliknij przycisk **Start** w **akcje** okienko, aby uruchomić witrynę internetową.</span><span class="sxs-lookup"><span data-stu-id="0172c-351">With the new website selected in the IIS Manager tree pane, click **Start** in the **Actions** pane to start the website.</span></span>

1. <span data-ttu-id="0172c-352">Otwórz sesję przeglądarki na urządzeniu klienckim.</span><span class="sxs-lookup"><span data-stu-id="0172c-352">Open a browser session on a client device.</span></span> <span data-ttu-id="0172c-353">Aby uzyskać więcej informacji o obsługiwanych przeglądarkach i urządzeniach, zobacz [przeglądarki i urządzenia klienckiego, które obsługują](#browser-and-client-device-support) w tym dokumencie.</span><span class="sxs-lookup"><span data-stu-id="0172c-353">For more information about supported browsers and devices, see [Browser and client device support](#browser-and-client-device-support) in this document.</span></span>

1. <span data-ttu-id="0172c-354">Otwórz nową witrynę sieci Web programu Windows PowerShell Web Access.</span><span class="sxs-lookup"><span data-stu-id="0172c-354">Open the new Windows PowerShell Web Access website.</span></span>

   <span data-ttu-id="0172c-355">Ponieważ główna witryna internetowa wskazuje folder programu Windows PowerShell Web Access, przeglądarce powinna zostać wyświetlona strona logowania programu Windows PowerShell Web Access, po otwarciu `https://<gateway_server_name>`.</span><span class="sxs-lookup"><span data-stu-id="0172c-355">Because the root website points to the Windows PowerShell Web Access folder, the browser should display the Windows PowerShell Web Access sign-in page when you open `https://<gateway_server_name>`.</span></span> <span data-ttu-id="0172c-356">Nie należy dodać **/pswa** do adresu URL.</span><span class="sxs-lookup"><span data-stu-id="0172c-356">You should not need to add **/pswa** to the URL.</span></span>

   > [!NOTE]
   > <span data-ttu-id="0172c-357">Użytkownicy będą mogli się zalogować dopiero po udzieleniu im dostępu do tej witryny internetowej przez dodanie reguł autoryzacji.</span><span class="sxs-lookup"><span data-stu-id="0172c-357">You cannot sign in until users have been granted access to the website by adding authorization rules.</span></span> <span data-ttu-id="0172c-358">Aby uzyskać więcej informacji, zobacz [Konfigurowanie restrykcyjnej reguły autoryzacji](#configure-a-restrictive-authorization-rule), w tym temacie i [reguły autoryzacji i zabezpieczeń funkcji programu Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span><span class="sxs-lookup"><span data-stu-id="0172c-358">For more information, see [Configure a restrictive authorization rule](#configure-a-restrictive-authorization-rule), in this topic, and [Authorization Rules and Security Features of Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span></span>

### <a name="configuring-a-restrictive-authorization-rule"></a><span data-ttu-id="0172c-359">Konfigurowanie restrykcyjnej reguły autoryzacji</span><span class="sxs-lookup"><span data-stu-id="0172c-359">Configuring a restrictive authorization rule</span></span>

<span data-ttu-id="0172c-360">Po zainstalowaniu programu Windows PowerShell Web Access, a brama jest skonfigurowana, użytkownicy mogą otwierać strony logowania w przeglądarce, ale nie można zalogować do momentu administratora programu Windows PowerShell Web Access jawnego przydzielenia im dostępu.</span><span class="sxs-lookup"><span data-stu-id="0172c-360">After Windows PowerShell Web Access is installed and the gateway is configured, users can open the sign-in page in a browser, but they cannot sign in until the Windows PowerShell Web Access administrator grants users access explicitly.</span></span> <span data-ttu-id="0172c-361">Kontrola dostępu w programie Windows PowerShell Web Access odbywa się przy użyciu zestawu poleceń cmdlet Windows PowerShell opisanych w poniższej tabeli.</span><span class="sxs-lookup"><span data-stu-id="0172c-361">Windows PowerShell Web Access access control is managed by using the set of Windows PowerShell cmdlets described in the following table.</span></span> <span data-ttu-id="0172c-362">Nie istnieje porównywalny graficzny interfejs użytkownika umożliwiający dodawanie reguł autoryzacji lub zarządzanie nimi.</span><span class="sxs-lookup"><span data-stu-id="0172c-362">There is no comparable GUI for adding or managing authorization rules.</span></span> <span data-ttu-id="0172c-363">Aby uzyskać szczegółowe informacje o poleceniach cmdlet programu Windows PowerShell Web Access, zobacz tematy dokumentacja poleceń cmdlet, [polecenia cmdlet programu Windows PowerShell Web Access](/powershell/module/powershellwebaccess/?view=winserver2012r2-ps).</span><span class="sxs-lookup"><span data-stu-id="0172c-363">For more detailed information about Windows PowerShell Web Access cmdlets, see the cmdlet reference topics, [Windows PowerShell Web Access Cmdlets](/powershell/module/powershellwebaccess/?view=winserver2012r2-ps).</span></span>

<span data-ttu-id="0172c-364">Aby uzyskać więcej szczegółów na temat reguł autoryzacji programu Windows PowerShell Web Access i zabezpieczeń, zobacz [reguły autoryzacji i zabezpieczeń funkcji programu Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span><span class="sxs-lookup"><span data-stu-id="0172c-364">For more detail about Windows PowerShell Web Access authorization rules and security, see [Authorization Rules and Security Features of Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span></span>

#### <a name="adding-a-restrictive-authorization-rule"></a><span data-ttu-id="0172c-365">Dodawanie restrykcyjnej reguły autoryzacji</span><span class="sxs-lookup"><span data-stu-id="0172c-365">Adding a restrictive authorization rule</span></span>

1. <span data-ttu-id="0172c-366">Wykonaj jedną z następujących czynności, aby otworzyć sesję środowiska Windows PowerShell z podwyższonym poziomem uprawnień użytkownika.</span><span class="sxs-lookup"><span data-stu-id="0172c-366">Do one of the following to open a Windows PowerShell session with elevated user rights.</span></span>

   - <span data-ttu-id="0172c-367">Na pulpicie systemu Windows kliknij prawym przyciskiem myszy **środowiska Windows PowerShell** na pasku zadań, a następnie kliknij przycisk **Uruchom jako Administrator**.</span><span class="sxs-lookup"><span data-stu-id="0172c-367">On the Windows desktop, right-click **Windows PowerShell** on the taskbar, and then click **Run as Administrator**.</span></span>
   - <span data-ttu-id="0172c-368">Na Windows **Start** ekranu, kliknij prawym przyciskiem myszy **programu Windows PowerShell**, a następnie kliknij przycisk **Uruchom jako Administrator**.</span><span class="sxs-lookup"><span data-stu-id="0172c-368">On the Windows **Start** screen, right-click **Windows PowerShell**, and then click **Run as Administrator**.</span></span>

1. ![Uwaga dotycząca zabezpieczeń](images/SecurityNote.jpeg) <span data-ttu-id="0172c-370">Krok opcjonalny, umożliwiający ograniczenie dostępu użytkowników za pomocą konfiguracji sesji:</span><span class="sxs-lookup"><span data-stu-id="0172c-370">Optional step for restricting user access by using session configurations:</span></span>

   <span data-ttu-id="0172c-371">Sprawdź, czy konfiguracje sesji, których chcesz użyć w regułach, już istnieją.</span><span class="sxs-lookup"><span data-stu-id="0172c-371">Verify that session configurations that you want to use in your rules already exist.</span></span> <span data-ttu-id="0172c-372">Jeśli one nie zostały jeszcze utworzone, skorzystaj z instrukcji tworzenia konfiguracji sesji w [about_Session_Configuration_Files](/powershell/module/microsoft.powershell.core/about/about_session_configurations).</span><span class="sxs-lookup"><span data-stu-id="0172c-372">If they have not yet been created, use instructions for creating session configurations in [about_Session_Configuration_Files](/powershell/module/microsoft.powershell.core/about/about_session_configurations).</span></span>

1. <span data-ttu-id="0172c-373">Wpisz następujące polecenie, a następnie naciśnij klawisz **Enter**.</span><span class="sxs-lookup"><span data-stu-id="0172c-373">Type the following, and then press **Enter**.</span></span>

   `Add-PswaAuthorizationRule -UserName <domain\user | computer\user> -ComputerName <computer_name> -ConfigurationName <session_configuration_name>`

   <span data-ttu-id="0172c-374">Ta reguła autoryzacji zezwala określonemu użytkownikowi na dostęp do jednego komputera w sieci, do których zwykle mają dostęp z uprawnieniami do konfiguracji określonej sesji, które są ograniczone do użytkownika "™ s typowe potrzeby skrypty i polecenia cmdlet.</span><span class="sxs-lookup"><span data-stu-id="0172c-374">This authorization rule allows a specific user access to one computer on the network to which they typically have access, with access to a specific session configuration that is scoped to the user'™s typical scripting and cmdlet needs.</span></span>

   <span data-ttu-id="0172c-375">W poniższym przykładzie użytkownik o nazwie `JSmith` w domenie `Contoso` otrzymuje dostęp umożliwiający zarządzanie komputerem o nazwie `Contoso_214` przy użyciu konfiguracji sesji o nazwie `NewAdminsOnly`.</span><span class="sxs-lookup"><span data-stu-id="0172c-375">In the following example, a user named `JSmith` in the `Contoso` domain is granted access to manage the computer `Contoso_214`, and use a session configuration named `NewAdminsOnly`.</span></span>

   `Add-PswaAuthorizationRule -UserName 'Contoso\JSmith' -ComputerName Contoso_214 -ConfigurationName NewAdminsOnly`

1. <span data-ttu-id="0172c-376">Sprawdź, czy reguła została utworzona za pomocą `Get-PswaAuthorizationRule` polecenia cmdlet, lub `Test-PswaAuthorizationRule -UserName '<domain\user>' -ComputerName <computer-name>`.</span><span class="sxs-lookup"><span data-stu-id="0172c-376">Verify that the rule has been created by running either the `Get-PswaAuthorizationRule` cmdlet, or `Test-PswaAuthorizationRule -UserName '<domain\user>' -ComputerName <computer-name>`.</span></span>

   <span data-ttu-id="0172c-377">Na przykład `Test-PswaAuthorizationRule -UserName 'Contoso\JSmith' -ComputerName Contoso_214`.</span><span class="sxs-lookup"><span data-stu-id="0172c-377">For example, `Test-PswaAuthorizationRule -UserName 'Contoso\JSmith' -ComputerName Contoso_214`.</span></span>

   <span data-ttu-id="0172c-378">Po skonfigurowaniu reguły autoryzacji, jesteś gotowy autoryzowani użytkownicy będą logować się do konsoli sieci web i rozpocząć korzystanie z programu Windows PowerShell Web Access.</span><span class="sxs-lookup"><span data-stu-id="0172c-378">After you have configured an authorization rule, you are ready for authorized users to sign in to the web-based console and begin using Windows PowerShell Web Access.</span></span>

## <a name="configure-a-genuine-certificate"></a><span data-ttu-id="0172c-379">Konfigurowanie oryginalnego certyfikatu</span><span class="sxs-lookup"><span data-stu-id="0172c-379">Configure a genuine certificate</span></span>

<span data-ttu-id="0172c-380">W bezpiecznym środowisku produkcyjnym zawsze używaj prawidłowego certyfikatu SSL, który został podpisany przez urząd certyfikacji (CA).</span><span class="sxs-lookup"><span data-stu-id="0172c-380">For a secure production environment, always use a valid SSL certificate that has been signed by a certification authority (CA).</span></span> <span data-ttu-id="0172c-381">W procedurze w tej sekcji opisano sposób uzyskiwania prawidłowego certyfikatu SSL z urzędu certyfikacji i stosowania go.</span><span class="sxs-lookup"><span data-stu-id="0172c-381">The procedure in this section describes how to obtain and apply a valid SSL certificate from a CA.</span></span>

### <a name="to-configure-an-ssl-certificate-in-iis-manager"></a><span data-ttu-id="0172c-382">Aby skonfigurować certyfikat SSL w Menedżerze usług IIS</span><span class="sxs-lookup"><span data-stu-id="0172c-382">To configure an SSL certificate in IIS Manager</span></span>

1. <span data-ttu-id="0172c-383">W okienku drzewa Menedżera usług IIS wybierz serwer, na którym jest zainstalowany program Windows PowerShell Web Access.</span><span class="sxs-lookup"><span data-stu-id="0172c-383">In the IIS Manager tree pane, select the server on which Windows PowerShell Web Access is installed.</span></span>

1. <span data-ttu-id="0172c-384">W okienku zawartości kliknij dwukrotnie **certyfikaty serwera**.</span><span class="sxs-lookup"><span data-stu-id="0172c-384">In the content pane, double click **Server Certificates**.</span></span>

1. <span data-ttu-id="0172c-385">W **akcje** okienko, wykonaj jedną z następujących czynności.</span><span class="sxs-lookup"><span data-stu-id="0172c-385">In the **Actions** pane, do one of the following.</span></span> <span data-ttu-id="0172c-386">Aby uzyskać więcej informacji na temat konfigurowania certyfikatów serwera w usługach IIS, zobacz [Konfigurowanie certyfikatów serwera w usługach IIS 7](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732230(v=ws.10)).</span><span class="sxs-lookup"><span data-stu-id="0172c-386">For more information about configuring server certificates in IIS, see [Configuring Server Certificates in IIS 7](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732230(v=ws.10)).</span></span>

   - <span data-ttu-id="0172c-387">Kliknij przycisk **zaimportować** Aby zaimportować istniejący, prawidłowy certyfikat z lokalizacji w sieci.</span><span class="sxs-lookup"><span data-stu-id="0172c-387">Click **Import** to import an existing, valid certificate from a location on your network.</span></span>
   - <span data-ttu-id="0172c-388">Kliknij przycisk **Utwórz żądanie certyfikatu** żądania certyfikatu od urzędu certyfikacji, takich jak [VeriSign](https://www.verisign.com/), [Thawte](https://www.thawte.com/), lub [GeoTrust](https://www.geotrust.com/).</span><span class="sxs-lookup"><span data-stu-id="0172c-388">Click **Create Certificate Request** to request a certificate from a CA such as [VeriSign](https://www.verisign.com/), [Thawte](https://www.thawte.com/), or [GeoTrust](https://www.geotrust.com/).</span></span> <span data-ttu-id="0172c-389">Nazwa pospolita certyfikatu musi być zgodna z nagłówkiem hosta w żądaniu.</span><span class="sxs-lookup"><span data-stu-id="0172c-389">The certificate's common name must match the host header in the request.</span></span>

     <span data-ttu-id="0172c-390">Na przykład, jeśli przeglądarka klienta żąda `http://www.contoso.com/`, a następnie nazwę pospolitą również musi być `http://www.contoso.com/`.</span><span class="sxs-lookup"><span data-stu-id="0172c-390">For example, if the client browser requests `http://www.contoso.com/`, then the common name must also be `http://www.contoso.com/`.</span></span> <span data-ttu-id="0172c-391">Jest to najbardziej bezpieczna i zalecana opcja umożliwiająca dostarczanie bramę programu Windows PowerShell Web Access przy użyciu certyfikatu.</span><span class="sxs-lookup"><span data-stu-id="0172c-391">This is the most secure and recommended option for providing the Windows PowerShell Web Access gateway with a certificate.</span></span>

   - <span data-ttu-id="0172c-392">Kliknij przycisk **Utwórz certyfikat z podpisem własnym** do utworzenia certyfikatu można użyć od razu i podpisać później przez urząd certyfikacji w razie potrzeby.</span><span class="sxs-lookup"><span data-stu-id="0172c-392">Click **Create a Self-Signed Certificate** to create a certificate that you can use immediately, and have signed later by a CA if desired.</span></span> <span data-ttu-id="0172c-393">Określ przyjazną nazwę certyfikatu z podpisem własnym, taki jak **programu Windows PowerShell Web Access**.</span><span class="sxs-lookup"><span data-stu-id="0172c-393">Specify a friendly name for the self-signed certificate, such as **Windows PowerShell Web Access**.</span></span> <span data-ttu-id="0172c-394">Ta opcja jest uważana za niebezpieczną i jest zalecana tylko na potrzeby prywatnego środowiska testowego.</span><span class="sxs-lookup"><span data-stu-id="0172c-394">This option is not considered secure, and is recommended only for a private test environment.</span></span>

1. <span data-ttu-id="0172c-395">Po utworzeniu lub otrzymaniu certyfikatu, wybierz witrynę sieci Web, do którego zastosowano certyfikatu (na przykład **domyślna witryna sieci Web**) okienku drzewa Menedżera usług IIS, a następnie kliknij przycisk **powiązania** w **Akcje** okienka.</span><span class="sxs-lookup"><span data-stu-id="0172c-395">After creating or obtaining a certificate, select the website to which the certificate is applied (for example, **Default Web Site**) in the IIS Manager tree pane, and then click **Bindings** in the **Actions** pane.</span></span>

1. <span data-ttu-id="0172c-396">W **Dodawanie powiązania witryny** okna dialogowego Dodaj **https** wiązanie dla danej lokacji, jeśli nie jest już wyświetlany.</span><span class="sxs-lookup"><span data-stu-id="0172c-396">In the **Add Site Binding** dialog box, add an **https** binding for the site, if one is not already displayed.</span></span> <span data-ttu-id="0172c-397">Jeśli nie używasz certyfikatu z podpisem własnym, określ nazwę hosta z kroku 3 tej procedury.</span><span class="sxs-lookup"><span data-stu-id="0172c-397">If you are not using a self-signed certificate, specify the host name from step 3 of this procedure.</span></span> <span data-ttu-id="0172c-398">Jeśli używasz certyfikatu z podpisem własnym, ten krok nie jest wymagany.</span><span class="sxs-lookup"><span data-stu-id="0172c-398">If you are using a self-signed certificate, this step is not required.</span></span>

1. <span data-ttu-id="0172c-399">Wybierz certyfikat uzyskany lub utworzony w kroku 3 tej procedury, a następnie kliknij przycisk **OK**.</span><span class="sxs-lookup"><span data-stu-id="0172c-399">Select the certificate that you obtained or created in step 3 of this procedure, and then click **OK**.</span></span>

## <a name="using-the-web-based-windows-powershell-console"></a><span data-ttu-id="0172c-400">Korzystanie z konsoli internetowej programu Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="0172c-400">Using the web-based Windows PowerShell console</span></span>

<span data-ttu-id="0172c-401">Po zainstalowaniu programu Windows PowerShell Web Access i zakończeniu konfigurowania bramy, zgodnie z opisem w tym temacie, konsoli internetowej programu Windows PowerShell jest gotowe do użycia.</span><span class="sxs-lookup"><span data-stu-id="0172c-401">After Windows PowerShell Web Access is installed and the gateway configuration is finished as described in this topic, the Windows PowerShell web-based console is ready to use.</span></span> <span data-ttu-id="0172c-402">Aby uzyskać więcej informacji na temat pobierania pracę w konsoli sieci web, zobacz [za pomocą konsoli programu PowerShell Windows opartej na sieci Web](use-the-web-based-windows-powershell-console.md).</span><span class="sxs-lookup"><span data-stu-id="0172c-402">For more information about getting started in the web-based console, see [Use the Web-based Windows PowerShell Console](use-the-web-based-windows-powershell-console.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="0172c-403">Zobacz też</span><span class="sxs-lookup"><span data-stu-id="0172c-403">See Also</span></span>

<span data-ttu-id="0172c-404">[Internetowe usługi informacyjne (IIS) 7.0 dokumentacji](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc753433(v=ws.10))</span><span class="sxs-lookup"><span data-stu-id="0172c-404">[Internet Information Services (IIS) 7.0 Documentation](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc753433(v=ws.10))</span></span>

<span data-ttu-id="0172c-405">[Pomoc Menedżera 7.0 usług IIS](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732664(v=ws.11))</span><span class="sxs-lookup"><span data-stu-id="0172c-405">[IIS Manager 7.0 Help](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732664(v=ws.11))</span></span>

<span data-ttu-id="0172c-406">[Konfigurowanie zabezpieczeń serwera sieci Web (IIS 7)](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc731278(v=ws.10))</span><span class="sxs-lookup"><span data-stu-id="0172c-406">[Configure Web Server Security (IIS 7)](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc731278(v=ws.10))</span></span>

<span data-ttu-id="0172c-407">[Zasoby dotyczące wdrażania protokołu IPsec](/previous-versions/windows/it-pro/windows-server-2003/cc776369(v=ws.10))</span><span class="sxs-lookup"><span data-stu-id="0172c-407">[IPsec Deployment Resources](/previous-versions/windows/it-pro/windows-server-2003/cc776369(v=ws.10))</span></span>
